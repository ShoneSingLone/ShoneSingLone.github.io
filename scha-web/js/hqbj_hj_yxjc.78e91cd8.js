(function(e){function t(t){for(var a,r,s=t[0],i=t[1],p=t[2],c=0,u=[];c<s.length;c++)r=s[c],o[r]&&u.push(o[r][0]),o[r]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);d&&d(t);while(u.length)u.shift()();return l.push.apply(l,p||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],a=!0,r=1;r<n.length;r++){var s=n[r];0!==o[s]&&(a=!1)}a&&(l.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={hqbj_hj_yxjc:0},o={hqbj_hj_yxjc:0},l=[];function s(e){return i.p+"js/"+({FormTable:"FormTable",ImageList:"ImageList",PickupTree:"PickupTree",FormTableItem:"FormTableItem",AvatarUpload:"AvatarUpload",CInputSearch:"CInputSearch"}[e]||e)+"."+{FormTable:"d4579f4b",ImageList:"c977139d",PickupTree:"239b4a2e",FormTableItem:"3ea633cb",AvatarUpload:"f5a8c0c6",CInputSearch:"cb6d2188"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={FormTable:1,ImageList:1,PickupTree:1,FormTableItem:1,AvatarUpload:1,CInputSearch:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise(function(t,n){for(var a="css/"+({FormTable:"FormTable",ImageList:"ImageList",PickupTree:"PickupTree",FormTableItem:"FormTableItem",AvatarUpload:"AvatarUpload",CInputSearch:"CInputSearch"}[e]||e)+"."+{FormTable:"7aaaee07",ImageList:"3906b1bc",PickupTree:"e7740c7b",FormTableItem:"05265851",AvatarUpload:"c3972a9f",CInputSearch:"05265851"}[e]+".css",o=i.p+a,l=document.getElementsByTagName("link"),s=0;s<l.length;s++){var p=l[s],c=p.getAttribute("data-href")||p.getAttribute("href");if("stylesheet"===p.rel&&(c===a||c===o))return t()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){p=u[s],c=p.getAttribute("data-href");if(c===a||c===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var a=t&&t.target&&t.target.src||o,l=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");l.request=a,delete r[e],d.parentNode.removeChild(d),n(l)},d.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(d)}).then(function(){r[e]=0}));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var l=new Promise(function(t,n){a=o[e]=[t,n]});t.push(a[2]=l);var p,c=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=s(e),p=function(t){u.onerror=u.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,l=new Error("Loading chunk "+e+" failed.\n("+a+": "+r+")");l.type=a,l.request=r,n[1](l)}o[e]=void 0}};var d=setTimeout(function(){p({type:"timeout",target:u})},12e4);u.onerror=u.onload=p,c.appendChild(u)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/scha-web/",i.oe=function(e){throw console.error(e),e};var p=window["webpackJsonp"]=window["webpackJsonp"]||[],c=p.push.bind(p);p.push=t,p=p.slice();for(var u=0;u<p.length;u++)t(p[u]);var d=c;l.push([3,"chunk-vendors","chunk-common"]),n()})({3:function(e,t,n){e.exports=n("a4fd")},a4fd:function(e,t,n){"use strict";n.r(t);var a=n("a026"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("keep-alive",[n("router-view")],1)],1)},o=[],l=(n("a7a0"),n("241f"),n("2877")),s={},i=Object(l["a"])(s,r,o,!1,null,null,null);i.options.__file="App.vue";var p=i.exports,c=n("8c4f"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"view aside"},[n("aside",{staticClass:"pickup"},[n("c-pickup-tree",{attrs:{treeOptions:e.treeOptions}})],1),n("main",{staticClass:"main"},[n("div",{staticClass:"tool-bar fixed"},[n("el-button",{on:{click:function(t){e.goTo("add")}}},[e._v("新增")]),n("el-button",{on:{click:function(t){e.goTo("update")}}},[e._v("修改")]),n("el-button",{on:{click:function(t){e.goTo("remove")}}},[e._v("删除")])],1),n("div",{staticClass:"tool-bar"}),n("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.dslArray,function(t,a){return n("el-collapse-item",{key:"panelDsl"+a,attrs:{title:t.title,name:t.title}},[n("c-table",{ref:"topTabe",refInFor:!0,staticClass:"box-card",attrs:{dsl:t.rows,rules:e.rules,tableInfo:t,disabled:!0},model:{value:e.currentModel,callback:function(t){e.currentModel=t},expression:"currentModel"}})],1)})),n("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[n("el-collapse-item",{attrs:{title:"影像列表",name:"img-list-panel"}},[n("div",{attrs:{id:"img-list-panel"}},[e.currentImgListModel?n("c-image-list",{staticClass:"readonly",attrs:{readonly:!0,options:{noDelete:!0}},model:{value:e.currentImgListModel,callback:function(t){e.currentImgListModel=t},expression:"currentImgListModel"}}):e._e()],1)])],1)],1)])},d=[],m=(n("6b54"),n("be94")),g=n("2f62"),h={computed:Object(m["a"])({},Object(g["d"])(["currentModel","currentModelAdd","currentImgListModel","currentImgListModelAdd"]),{treeOptions:function(){var e={props:{children:"children",label:"text"}};return e.data=this.asideTree,e}}),methods:Object(m["a"])({},Object(g["c"])(["setCurrentModel","setCurrentModelAdd","setcurrentImgListModel","setcurrentImgListModelAdd"]),{deleteTableRow:function(e,t){console.log("deleteTableRow",e,t)},console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log(t)}),submit:function(){var e=this;this.$refs.hytable[0].valid().then(function(t){t&&e.$notify({title:"提示",message:"数据校验成功，可以提交表单"})})},handleChange:function(e){console.log("activeNames",e,e===this.activeNames)}}),watch:{model:function(e,t){console.log("model change",e,t)}},components:{"c-table":function(){return n.e("FormTable").then(n.bind(null,"1b52"))},CPickupTree:function(){return n.e("PickupTree").then(n.bind(null,"b737"))},CImageList:function(){return n.e("ImageList").then(n.bind(null,"669b"))}},beforeRouteEnter:function(e,t,n){console.log("beforeRouteEnter",e,t,n),n()},beforeRouteUpdate:function(e,t,n){console.log("tbeforeRouteUpdate",e,t),n()},beforeRouteLeave:function(e,t,n){console.log("beforeRouteLeave",e,t),n()}},f=[{name:"下载.png",url:"http://shonesinglone.leanapp.cn/imgs/cdgkpersonavatar.png"},{name:"下载.png",url:"http://shonesinglone.leanapp.cn/imgs/cdgkpersonavatar.png"},{name:"下载.png",url:"http://shonesinglone.leanapp.cn/imgs/cdgkpersonavatar.png"},{name:"下载.png",url:"http://shonesinglone.leanapp.cn/imgs/cdgkpersonavatar.png"},{name:"下载.png",url:"http://shonesinglone.leanapp.cn/imgs/cdgkpersonavatar.png"},{name:"下载.png",url:"http://shonesinglone.leanapp.cn/imgs/cdgkpersonavatar.png"},{name:"下载.png",url:"http://shonesinglone.leanapp.cn/imgs/cdgkpersonavatar.png"},{name:"下载.png",url:"http://shonesinglone.leanapp.cn/imgs/cdgkpersonavatar.png"},{name:"下载.png",url:"http://shonesinglone.leanapp.cn/imgs/cdgkpersonavatar.png"},{name:"下载.png",url:"http://shonesinglone.leanapp.cn/imgs/cdgkpersonavatar.png"},{name:"下载.png",url:"http://shonesinglone.leanapp.cn/imgs/cdgkpersonavatar.png"},{name:"下载.png",url:"http://shonesinglone.leanapp.cn/imgs/cdgkpersonavatar.png"},{name:"下载.png",url:"http://shonesinglone.leanapp.cn/imgs/cdgkpersonavatar.png"},{name:"下载.png",url:"http://shonesinglone.leanapp.cn/imgs/cdgkpersonavatar.png"},{name:"下载.png",url:"http://shonesinglone.leanapp.cn/imgs/cdgkpersonavatar.png"},{name:"下载.png",url:"http://shonesinglone.leanapp.cn/imgs/cdgkpersonavatar.png"},{name:"下载.png",url:"http://shonesinglone.leanapp.cn/imgs/cdgkpersonavatar.png"},{name:"下载.png",url:"http://shonesinglone.leanapp.cn/imgs/cdgkpersonavatar.png"},{name:"下载.png",url:"http://shonesinglone.leanapp.cn/imgs/cdgkpersonavatar.png"},{name:"下载.png",url:"http://shonesinglone.leanapp.cn/imgs/cdgkpersonavatar.png"}],v={mzh:[{required:!0,message:"不能为空",trigger:"blur"}],jcdh:[{required:!0,message:"不能为空",trigger:"blur"}],jcsj:[{required:!0,message:"不能为空",trigger:"blur"}],jcsd:[{required:!0,message:"不能为空",trigger:"blur"}],xmid:[{required:!0,message:"不能为空",trigger:"blur"}],jcjg:[{required:!0,message:"不能为空",trigger:"blur"}]},b=[{title:"影像检查项目",rows:[[{rowspan:1,colspan:1,items:[{prop:"jcdh",type:"input",placeholder:null,label:"检查单号",readonly:!0}],width:"33%",type:"input"},{rowspan:1,colspan:1,items:[{prop:"jcsj",type:"input",placeholder:null,label:"检查时间",readonly:!0}],width:"33%",type:"input"},{rowspan:1,colspan:1,items:[{prop:"mc",type:"input",placeholder:null,label:"检查项目",readonly:!0}],width:"33%",type:"input"}],[{rowspan:1,colspan:1,items:[{prop:"jcjg",type:"input",placeholder:null,label:"检查结果",readonly:!0}],width:"",type:"input"},{rowspan:1,colspan:2,items:[{prop:"jcjg_sm",type:"input",placeholder:null,label:"说明",readonly:!0}],width:"",type:"input"}],[{rowspan:1,colspan:1,items:[{prop:"jcys",type:"input",placeholder:null,label:"检查医生",readonly:!0}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"jlys",type:"input",placeholder:null,label:"记录医生",readonly:!0}],width:"",type:"input"}]],cellspacing:"5"}],y=[{title:"影像检查窗口",rows:[[{rowspan:1,colspan:1,items:[{prop:"mzh",type:"input",placeholder:"请输入门诊号",label:"门诊号",required:!0}],width:"25%",type:"input"},{rowspan:1,colspan:1,items:[{prop:"jcdh",type:"input",placeholder:"请输入检查单号",label:"检查单号",required:!0}],width:"25%",type:"input"},{rowspan:1,colspan:1,items:[{prop:"jcsj",type:"date.picker",placeholder:"请输入检查时间",label:"检查时间",required:!0}],width:"25%",type:"input"},{rowspan:1,colspan:1,items:[{prop:"jcsd",type:"select",placeholder:"请选择检查对象",label:"检查对象",required:!0,data:[{value:"男性检查",text:"男性检查"},{value:"女性检查",text:"女性检查"}]}],width:"25%",type:"input"}],[{rowspan:1,colspan:1,items:[{prop:"xmid",type:"select",placeholder:"请选择检查项目",label:"检查项目",required:!0}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"jcjg",type:"select",placeholder:"请选择检查结果",label:"检查结果",required:!0,data:[{value:"未见异常",text:"未见异常"},{value:"异常",text:"异常"}]}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"jcjg_sm",type:"input",placeholder:"请输入检查结果说明",label:"说明"}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"jcysid",type:"select",placeholder:"请选择检查医生",label:"检查医生"}],width:"",type:"input"}],[{rowspan:1,colspan:1,items:[{prop:"jlysid",type:"select",placeholder:"请选择记录医生",label:"记录医生"}],width:"",type:"input"}]],cellspacing:"5"}],j={jcdh:"",jcsj:"",mc:"",jcjg:"",jcjg_sm:"",jcys:"",jlys:""},w={mzh:"",jcdh:"",jcsj:"2018-12-15 00:00:00",jcsd:"",xmid:"",jcjg:"",jcjg_sm:"",jcysid:"51340100101001",jlysid:"51340100101001"},k=(n("1157"),{name:"HqbjHjYxjc",mixins:[h],mounted:function(){this.activeNames=this.dslArray.map(function(e){return e.title}),this.activeNames.push("img-list-panel")},data:function(){return{rules:v,dslArray:b,asideTree:{},activeNames:[]}},methods:{goTo:function(e){this.$router.push({name:e})}}}),T=k,I=Object(l["a"])(T,u,d,!1,null,null,null);I.options.__file="Main.vue";var A=I.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"view column"},[n("main",{staticClass:"main"},[n("div",{staticClass:"tool-bar fixed"},[n("el-button",{on:{click:function(t){e.goTo("home")}}},[e._v("放弃编辑")]),n("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1),n("div",{staticClass:"tool-bar"}),n("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.dslArrayAdd,function(t,a){return n("el-collapse-item",{key:"panelDsl"+a,attrs:{title:t.title,name:t.title}},[n("c-table",{ref:"topTable",refInFor:!0,staticClass:"box-card",attrs:{dsl:t.rows,rules:e.rules,tableInfo:t},model:{value:e.currentModelAdd,callback:function(t){e.currentModelAdd=t},expression:"currentModelAdd"}})],1)})),n("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[n("el-collapse-item",{attrs:{title:"影像列表",name:"img-list-panel"}},[n("div",{attrs:{id:"img-list-panel"}},[e.currentImgListModelAdd?n("c-image-list",{ref:"imgUpload",attrs:{options:e.imageListOptions},on:{whenUploaded:e.handleUploaded},model:{value:e.currentImgListModelAdd,callback:function(t){e.currentImgListModelAdd=t},expression:"currentImgListModelAdd"}}):e._e()],1)])],1)],1)])},M=[],x=(n("7f7f"),{}),_={name:"HqbjHjYxjcAdd",mixins:[h],mounted:function(){this.activeNames=this.dslArrayAdd.map(function(e){return e.title}),this.activeNames.push("img-list-panel")},data:function(){return{rules:x,dslArrayAdd:y,imageListOptions:{action:"/proxy/upload"},activeNames:[]}},methods:{goTo:function(e){var t=this;"home"===e&&this.$confirm("是否放弃编辑?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$router.push({name:e})}).catch(function(e){console.log(e)})},save:function(){var e=this;this.$refs.topTable[0].valid().then(function(t){if(t)return e.$refs.imgUpload.submit();e.$message({showClose:!0,message:"请按照提示检查输入项",type:"warning"})})},handleUploaded:function(e){var t=this,n=this.$loading(),a=Object(m["a"])({},this.currentModelAdd,{imglist:e});console.log("this.currentModelAdd"),this.$post("/proxy/save",{coll:"hqbj_hj_yxjc",doc:a}).then(function(e){e.isSuccess?("update"===t.$route.name&&t.setCurrentModelAdd(a),n.close(),t.$router.push({name:"home"}),t.$message({showClose:!0,message:"保存成功",type:"success"})):t.$message({showClose:!0,message:"保存失败",type:"warning"})})}}},L=_,N=Object(l["a"])(L,C,M,!1,null,null,null);N.options.__file="MainAdd.vue";var O=N.exports;a["default"].use(c["a"]);var $=new c["a"]({routes:[{path:"*",redirect:"/"},{path:"/",name:"home",component:A},{path:"/add",name:"add",component:O},{path:"/update",name:"update",component:O}]}),P=n("2909");a["default"].use(g["a"]);var q=new g["a"].Store({state:{currentModel:j,currentImgListModel:f,currentModelAdd:w,currentImgListModelAdd:Object(P["a"])(f)},actions:{setCurrentPath:function(e,t){var n=e.commit;return n("setCurrentPath",t)}},mutations:{setCurrentModel:function(e,t){e.currentModel=t},setCurrentImgListModel:function(e,t){e.currentImgListModel=t},setCurrentModelAdd:function(e,t){e.currentModelAdd=t},setCurrentImgListModelAdd:function(e,t){e.currentImgListModelAdd=t}}}),S=(n("7378"),n("fa6d"),n("13af")),F=n("f65b");a["default"].prototype.$global=F["a"],a["default"].prototype.$post=S["b"],a["default"].prototype.$get=S["a"],a["default"].config.productionTip=!1,new a["default"]({router:$,store:q,render:function(e){return e(p)}}).$mount("#app")}});
//# sourceMappingURL=hqbj_hj_yxjc.78e91cd8.js.map