(function(e){function t(t){for(var r,n,s=t[0],i=t[1],c=t[2],p=0,u=[];p<s.length;p++)n=s[p],o[n]&&u.push(o[n][0]),o[n]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);d&&d(t);while(u.length)u.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],r=!0,n=1;n<a.length;n++){var s=a[n];0!==o[s]&&(r=!1)}r&&(l.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={fnbpc_jgjl:0},o={fnbpc_jgjl:0},l=[];function s(e){return i.p+"js/"+({Aside:"Aside",FormTable:"FormTable",ImageList:"ImageList",PickupTree:"PickupTree",FormTableItem:"FormTableItem",AvatarUpload:"AvatarUpload",CInputSearch:"CInputSearch"}[e]||e)+"."+{Aside:"f168a64e",FormTable:"d4579f4b",ImageList:"c977139d",PickupTree:"239b4a2e",FormTableItem:"3ea633cb",AvatarUpload:"f5a8c0c6",CInputSearch:"cb6d2188"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(e){var t=[],a={FormTable:1,ImageList:1,PickupTree:1,FormTableItem:1,AvatarUpload:1,CInputSearch:1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=new Promise(function(t,a){for(var r="css/"+({Aside:"Aside",FormTable:"FormTable",ImageList:"ImageList",PickupTree:"PickupTree",FormTableItem:"FormTableItem",AvatarUpload:"AvatarUpload",CInputSearch:"CInputSearch"}[e]||e)+"."+{Aside:"31d6cfe0",FormTable:"7aaaee07",ImageList:"3906b1bc",PickupTree:"e7740c7b",FormTableItem:"05265851",AvatarUpload:"c3972a9f",CInputSearch:"05265851"}[e]+".css",o=i.p+r,l=document.getElementsByTagName("link"),s=0;s<l.length;s++){var c=l[s],p=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(p===r||p===o))return t()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){c=u[s],p=c.getAttribute("data-href");if(p===r||p===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||o,l=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");l.request=r,delete n[e],d.parentNode.removeChild(d),a(l)},d.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(d)}).then(function(){n[e]=0}));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var l=new Promise(function(t,a){r=o[e]=[t,a]});t.push(r[2]=l);var c,p=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=s(e),c=function(t){u.onerror=u.onload=null,clearTimeout(d);var a=o[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src,l=new Error("Loading chunk "+e+" failed.\n("+r+": "+n+")");l.type=r,l.request=n,a[1](l)}o[e]=void 0}};var d=setTimeout(function(){c({type:"timeout",target:u})},12e4);u.onerror=u.onload=c,p.appendChild(u)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/scha-web/",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],p=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=p;l.push([19,"chunk-vendors","chunk-common"]),a()})({19:function(e,t,a){e.exports=a("4c03")},"4c03":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var r=a("a026"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{name:"silde-fade"}},[a("router-view")],1)],1)},o=[],l=(a("f751"),a("be94")),s=(a("96cf"),a("1da1")),i={jl:[{required:!0,message:"不能为空",trigger:"blur"}]},c=[[{rowspan:1,colspan:1,items:[{prop:"wjyc",placeholder:null,label:"未见异常",type:"checkbox"}],width:"",type:"input"},{rowspan:1,colspan:3,items:[{prop:"wyyc",placeholder:null,label:"外阴异常",type:"checkbox"},{prop:"wyyc_sm",placeholder:"外阴异常说明",label:"外阴异常说明",type:"input"}],width:"",type:"input"}],[{rowspan:1,colspan:1,items:[{prop:"ydy",placeholder:null,label:"非特性阴道炎",type:"checkbox"}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"ydy_lnx",placeholder:null,label:"老年性阴道炎",type:"checkbox"}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"ydy_dc",placeholder:null,label:"滴虫性阴道炎",type:"checkbox"}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"ydy_jmj",placeholder:null,label:"阴道假丝酵母菌病",type:"checkbox"}],width:"",type:"input"}],[{rowspan:1,colspan:1,items:[{prop:"ydy_xjx",placeholder:null,label:"细菌性阴道病",type:"checkbox"}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"zgjl",placeholder:null,label:"子宫肌瘤",type:"checkbox"}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"gjy",placeholder:null,label:"宫颈炎",type:"checkbox"}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"jrsy",placeholder:null,label:"尖锐湿疣",type:"checkbox"}],width:"",type:"input"}],[{rowspan:1,colspan:1,items:[{prop:"gjxr",placeholder:null,label:"宫颈息肉",type:"checkbox"}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"zgnmywz",placeholder:null,label:"子宫内膜异位症",type:"checkbox"}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"jyqxy",placeholder:null,label:"节育器下移",type:"checkbox"}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"rxzs",placeholder:null,label:"乳腺增生",type:"checkbox"}],width:"",type:"input"}],[{rowspan:1,colspan:1,items:[{prop:"fjnz",placeholder:null,label:"附件囊肿",type:"checkbox"}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"ydjyc",placeholder:null,label:"阴道镜异常",type:"checkbox"}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"pqy",placeholder:null,label:"盆腔炎",type:"checkbox"}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"gja",placeholder:null,label:"宫颈癌",type:"checkbox"}],width:"",type:"input"}],[{rowspan:1,colspan:1,items:[{prop:"nca",placeholder:null,label:"卵巢癌",type:"checkbox"}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"rxa",placeholder:null,label:"乳腺癌",type:"checkbox"}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"zgnma",placeholder:null,label:"子宫内膜癌",type:"checkbox"}],width:"",type:"input"}],[{rowspan:1,colspan:1,items:[{prop:"qtjb",placeholder:null,label:"其他疾病",type:"checkbox"}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"qtjb_sm",placeholder:"其他疾病说明",label:null,readonly:"true",type:"input"}],width:"",type:"input"}],[{rowspan:1,colspan:4,items:[{prop:"jl",placeholder:"汇总记录",label:"汇总记录",required:!0,multiline:!0,type:"textarea"}],width:"",type:"input"}]],p=[{title:!1,rows:[[{rowspan:1,colspan:3,items:[{prop:"bh",type:"input",placeholder:"请输入编号",label:"编号"}],width:"",type:"input"}],[{rowspan:1,colspan:3,items:[{prop:"xm",type:"input",placeholder:"请输入个人姓名",label:"个人姓名"}],width:"",type:"input"}]]}],u={cjrq:"2019-01-11",cjr:"51340100101001",bgrq:"2019-01-11",bgr:"51340100101001",bbmyd:"",bbsm:"",byt:"",yzfy:"",fdxlzxb:"",lzspxb_ycqk:"",fdxxxb_ly:"",fdxxxb_lb_ly:"",xa_ly:"",jgywxa_sm:"",qtexzl_sm:"",bsfl:"",bgyj:""},d={message:"",type:""},h={name:"AppRoot",mounted:function(){console.log(this.model)},provide:function(){return{APP:this}},data:function(){return{modelInit:{},model:u,dslArray:c,rules:i,dslAsideQuery:p,modelAsideQuery:{bh:"",xm:""},modelAsideList:[]}},computed:{treeOptions:function(){var e={props:{children:"children",label:"xm"}};return e.data=this.modelAsideList,e}},methods:{c:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];console.log.apply(console,t)},save:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var a,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.loading,a=a||this.$loading(),e.prev=2,r=this.model,e.next=6,this.$post("/proxy/update",{coll:"fnbpc_jbzl",doc:r});case 6:if(n=e.sent,!n.isSuccess){e.next=12;break}d={type:"success",message:"保存成功"},this.getAsideList(),e.next=13;break;case 12:throw new Error(n.data);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](2),d={type:"error",message:e.t0.message};case 18:return e.prev=18,a.close(),this.$message(Object(l["a"])({showClose:!0},d)),e.finish(18);case 22:case"end":return e.stop()}},e,this,[[2,15,18,22]])}));function t(t){return e.apply(this,arguments)}return t}(),remove:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var a,r,n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.loading,e.next=3,this.$confirm("确实要删除当前的表单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:if(r=e.sent,r){e.next=6;break}return e.abrupt("return");case 6:return a=a||this.$loading(),n=this.model,e.prev=8,e.next=11,this.$post("/proxy/delete",{coll:"fnbpc_jbzl",doc:n});case 11:if(o=e.sent,!o.isSuccess){e.next=18;break}this.$message({showClose:!0,message:"删除成功",type:"success"}),this.model={},this.getAsideList(),e.next=20;break;case 18:throw console.log(o.data),new Error("error");case 20:e.next=26;break;case 22:e.prev=22,e.t0=e["catch"](8),this.$message({showClose:!0,message:e.t0.message,type:"error"}),a.close();case 26:return e.prev=26,a.close(),e.finish(26);case 29:case"end":return e.stop()}},e,this,[[8,22,26,29]])}));function t(t){return e.apply(this,arguments)}return t}(),getAsideList:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,a,r,n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$loading(),a=this.modelAsideQuery,e.prev=2,e.next=5,this.$post("/proxy/get",{coll:"fnbpc_jbzl",doc:{},condition:a});case 5:r=e.sent,n=r.isSuccess,o=r.data,n&&(this.modelAsideList=o),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0);case 14:t.close();case 15:case"end":return e.stop()}},e,this,[[2,11]])}));function t(){return e.apply(this,arguments)}return t}(),handleClickAside:function(e){var t=e.data;e.node,e.vm;this.model=Object.assign({},this.modelInit,t,{cjrq:Date.now(),cjr:String(t.zjys)+String(Date.now()),bgrq:Date.now(),bgr:Date.now(),bbmyd:"满意"})}},watch:{model:function(e){console.clear(),console.log("model",e)}}},m=h,b=(a("a7a0"),a("241f"),a("2877")),f=Object(b["a"])(m,n,o,!1,null,null,null);f.options.__file="App.vue";var y=f.exports,g=a("8c4f"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view aside"},[a("c-aside",{on:{clickAside:e.APP.handleClickAside}}),a("main",{staticClass:"main"},[a("div",{staticClass:"tool-bar fixed"},[a("el-button",{staticClass:"button",attrs:{type:"primary",disabled:!Boolean(e.APP.model.xm)},on:{click:e.save}},[e._v("保存")]),a("el-button",{attrs:{disabled:!Boolean(e.APP.model.xm)},on:{click:e.APP.remove}},[e._v("删除")])],1),a("div",{staticClass:"tool-bar"}),a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"",name:1}},[a("c-table",{ref:"topTabe",staticClass:"box-card",attrs:{dsl:e.APP.dslArray,rules:e.APP.rules,disabled:!Boolean(e.APP.model.xm)},model:{value:e.APP.model,callback:function(t){e.$set(e.APP,"model",t)},expression:"APP.model"}})],1)],1)],1)],1)},w=[],x={components:{CTable:function(){return a.e("FormTable").then(a.bind(null,"1b52"))},CImageList:function(){return a.e("ImageList").then(a.bind(null,"669b"))},CAside:function(){return a.e("Aside").then(a.bind(null,"85da"))}}},k=a("1157"),j=a.n(k),A={name:"FnbpcFkjc",mixins:[x],inject:["APP"],mounted:function(){this.APP.getAsideList()},data:function(){return{asideTree:[],activeNames:[1]}},methods:{save:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$refs.topTabe.valid();case 3:if(!e.sent){e.next=7;break}this.APP.save(),e.next=8;break;case 7:throw new Error("请按照提示检查输入项");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.message,type:"warning"});case 13:case"end":return e.stop()}},e,this,[[0,10]])}));function t(){return e.apply(this,arguments)}return t}(),getTitle:function(e){return this.APP.model.xm?"".concat(e,"-").concat(this.APP.model.xm,"-").concat(this.APP.model.bh):e}}},T=A,P=Object(b["a"])(T,v,w,!1,null,null,null);P.options.__file="Main.vue";var _=P.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view aside"},[a("aside",{staticClass:"pickup"},[a("c-pickup-tree",{ref:"pickupTree",attrs:{treeOptions:e.treeOptions},on:{"check-change":e.handleCheckChange}})],1),a("main",{staticClass:"main"},[a("div",{staticClass:"tool-bar fixed"},[a("el-button",{on:{click:function(t){e.goTo("home")}}},[e._v("放弃编辑")]),a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1),a("div",{staticClass:"tool-bar"}),a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.dslArray,function(t,r){return a("el-collapse-item",{key:"panelDsl"+r,attrs:{title:t.title,name:t.title}},[a("c-table",{ref:"topTabe",refInFor:!0,staticClass:"box-card",attrs:{dsl:t.rows,rules:e.rules,tableInfo:t},model:{value:e.currentModelAdd,callback:function(t){e.currentModelAdd=t},expression:"currentModelAdd"}})],1)})),a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"项目列表",name:"datagrid"}},[a("div",{attrs:{id:"datagrid"}},[a("el-table",{attrs:{data:e.currentTableModelAdd}},[e._l(e.tableHeader,function(t,r){return["jcdh"===t.prop?a("el-table-column",{key:r,attrs:{prop:t.prop,label:t.label},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{ref:"dynamicValidateForm",refInFor:!0,staticClass:"demo-dynamic",attrs:{model:t.row}},[a("el-form-item",{attrs:{prop:"jcdh",rules:e.rules.jcdh}},[a("el-input",{model:{value:t.row.jcdh,callback:function(a){e.$set(t.row,"jcdh",a)},expression:"scope.row.jcdh"}})],1)],1)]}}])}):"jg"===t.prop?a("el-table-column",{key:r,attrs:{prop:t.prop,label:t.label},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{ref:"dynamicValidateForm",refInFor:!0,staticClass:"demo-dynamic",attrs:{model:t.row}},[a("el-form-item",{attrs:{prop:"jg",rules:e.rules.jcdh}},[a("el-input",{model:{value:t.row.jg,callback:function(a){e.$set(t.row,"jg",a)},expression:"scope.row.jg"}})],1)],1)]}}])}):"wh"===t.prop?a("el-table-column",{key:r,attrs:{prop:t.prop,label:t.label},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{on:{click:function(a){e.deleteTableRow(t.row,t)}}},[e._v("删除")])]}}])}):a("el-table-column",{key:r,attrs:{prop:t.prop,label:t.label}})]})],2)],1)])],1)],1)])},I=[],O=(a("20d6"),a("2909")),$={name:"HqbjHjHyjc",mixins:[x],mounted:function(){var e=this;j.a.ajax({url:"/scha-web/a/fnbj/hys/asideList",success:function(t){e.asideTree=t.data}}),this.activeNames=this.dslArray.map(function(e){return e.title}),this.activeNames.push("datagrid")},data:function(){return{rules:i,dslArray:c,asideTree:[],activeNames:[]}},methods:{goTo:function(e){this.$router.push({name:e})},handleCheckChange:function(){var e=this.$refs.pickupTree.getTree(),t=!0,a=e.getCheckedNodes(t),r=Object(O["a"])(this.currentTableModelAdd);a.map(function(e,t){for(var n=0;n<r.length;n++){var o=r[n];if(o.id===e.id)return void(a[t]=o)}}),this.setCurrentTableModelAdd(a)},deleteTableRow:function(e,t){console.log("deleteTableRow",e,t);var a,r=Object(O["a"])(this.currentTableModelAdd),n=r.findIndex(function(t){return t.id===e.id});a=r.splice(n,1),console.log("delete",a),this.setCurrentTableModelAdd(r)},save:function(){var e=this.currentModelAdd,t=this.currentTableModelAdd,a={tbFnbjHysEntity:e,list:t};console.log("save",this.currentModelAdd),console.log("save currentTableModelAdd",this.currentTableModelAdd),j.a.ajax({url:"/scha-web/a/fnbj/hys/addHyd",data:JSON.stringify({BaoZhuang:a}),dataType:"json",contentType:"application/json;charset=utf-8",success:function(e){alert("ok")}})}},computed:{treeOptions:function(){var e={props:{children:"children",label:"mc"}};return e.data=this.asideTree,e.showCheckbox=!0,e}}},F=$,S=Object(b["a"])(F,C,I,!1,null,null,null);S.options.__file="MainAdd.vue";var N=S.exports;r["default"].use(g["a"]);var L=new g["a"]({routes:[{path:"*",redirect:"/"},{path:"/",name:"home",component:_},{path:"/add",name:"add",component:N},{path:"/update",name:"update",component:N}]}),M=(a("7378"),a("fa6d"),a("13af")),q=a("f65b");r["default"].prototype.$global=q["a"],r["default"].prototype.$post=M["b"],r["default"].prototype.$get=M["a"],r["default"].config.productionTip=!1,new r["default"]({router:L,render:function(e){return e(y)}}).$mount("#app")}});
//# sourceMappingURL=fnbpc_jgjl.7bb85cea.js.map