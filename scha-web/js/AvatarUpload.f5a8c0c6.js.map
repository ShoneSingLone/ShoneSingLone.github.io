{"version":3,"sources":["webpack:///./src/components/AvatarUpload.vue?dc0f","webpack:///src/components/AvatarUpload.vue","webpack:///./src/components/AvatarUpload.vue?c683","webpack:///./src/components/AvatarUpload.vue","webpack:///./src/components/AvatarUpload.vue?f9b2"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","action","uploadto","data","options","show-file-list","on-success","handleAvatarSuccess","on-error","handleAvatarError","before-upload","beforeAvatarUpload","name","src","imgSrc","alt","width","height","id","title","staticRenderFns","AvatarUploadvue_type_script_lang_js_","model","prop","event","props","String","Object","mounted","_this","img","document","createElement","onerror","$emit","computed","console","error","methods","res","file","log","URL","createObjectURL","raw","fileList","$message","message","type","isLt2M","size","watch","components_AvatarUploadvue_type_script_lang_js_","component","componentNormalizer","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_8_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AvatarUpload_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_8_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AvatarUpload_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"gJAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,aAAuBE,YAAA,kBAAAC,MAAA,CAAqCC,OAAAR,EAAAS,SAAAC,KAAAV,EAAAW,QAAAC,kBAAA,EAAAC,aAAAb,EAAAc,oBAAAC,WAAAf,EAAAgB,kBAAAC,gBAAAjB,EAAAkB,mBAAAC,KAAA,SAA4L,CAAAnB,EAAA,OAAAI,EAAA,OAAyBE,YAAA,SAAAC,MAAA,CAA4Ba,IAAApB,EAAAqB,OAAAC,IAAAtB,EAAAW,QAAAW,IAAAC,MAAAvB,EAAAW,QAAAY,MAAAC,OAAAxB,EAAAW,QAAAa,OAAAC,GAAAzB,EAAAW,QAAAc,GAAAC,MAAA1B,EAAAW,QAAAe,SAA4ItB,EAAA,KAAUE,YAAA,yCAC5hBqB,EAAA,GCyBAC,EAAA,CACAT,KAAA,eACAU,MAAA,CACAC,KAAA,SACAC,MAAA,SAEAC,MAAA,CACAX,OAAAY,OACAtB,QAAAuB,QAEAC,QAVA,WAUA,IAAAC,EAAAnC,KAEA,GAAAA,KAAAoB,OAAA,CACA,IAAAgB,EAAAC,SAAAC,cAAA,OACAF,EAAAG,QAAA,WACAJ,EAAAK,MAAA,aAEAJ,EAAAjB,IAAAnB,KAAAoB,SAGAX,KApBA,WAqBA,UAEAgC,SAAA,CACAjC,SADA,WAEA,OACAR,KAAAU,SAAAV,KAAAU,QAAAH,QACAmC,QAAAC,OACA3C,KAAAU,QAAAc,IAAAxB,KAAAU,QAAAmB,MAAA,oBAEA,KAIAe,QAAA,CACA/B,oBADA,SACAgC,EAAAC,GACAJ,QAAAK,IAAA,sBAAAF,EAAA7C,KAAAU,SACAV,KAAAwC,MAAA,0BAAAK,EAAA7C,KAAAU,SAEAV,KAAAwC,MAAA,QAAAQ,IAAAC,gBAAAH,EAAAI,OAEAnC,kBAPA,SAOA4B,EAAAG,EAAAK,GAEAnD,KAAAoD,SAAA,CACAC,QAAA,UAAAV,EACAW,KAAA,YAEAZ,QAAAK,IAAAI,IAEAlC,mBAfA,SAeA6B,GAEA,IAAAS,EAAAT,EAAAU,KAAA,YASA,OAJAD,GACAvD,KAAAoD,SAAAT,MAAA,qBAGAY,IAGAE,MAAA,ICzFsVC,EAAA,0BCQtVC,EAAgB1B,OAAA2B,EAAA,KAAA3B,CACdyB,EACA5D,EACA4B,GACF,EACA,KACA,KACA,MAIAiC,EAAAjD,QAAAmD,OAAA,mBACeC,EAAA,WAAAH,6CCpBf,IAAAI,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAylBE,EAAG","file":"js/AvatarUpload.f5a8c0c6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadto,\"data\":_vm.options,\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"on-error\":_vm.handleAvatarError,\"before-upload\":_vm.beforeAvatarUpload,\"name\":'file'}},[(_vm.imgSrc)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.imgSrc,\"alt\":_vm.options.alt,\"width\":_vm.options.width,\"height\":_vm.options.height,\"id\":_vm.options.id,\"title\":_vm.options.title}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-upload\n    class=\"avatar-uploader\"\n    :action=\"uploadto\"\n    :data=\"options\"\n    :show-file-list=\"false\"\n    :on-success=\"handleAvatarSuccess\"\n    :on-error=\"handleAvatarError\"\n    :before-upload=\"beforeAvatarUpload\"\n    :name=\"'file'\"\n  >\n    <img\n      v-if=\"imgSrc\"\n      :src=\"imgSrc\"\n      class=\"avatar\"\n      :alt=\"options.alt\"\n      :width=\"options.width\"\n      :height=\"options.height\"\n      :id=\"options.id\"\n      :title=\"options.title\"\n    >\n    <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n  </el-upload>\n</template>\n\n<script>\nexport default {\n  name: \"AvatarUpload\",\n  model: {\n    prop: \"imgSrc\",\n    event: \"input\"\n  },\n  props: {\n    imgSrc: String,\n    options: Object\n  },\n  mounted() {\n    /* 获取不到图片就重新上传 */\n    if (this.imgSrc) {\n      let img = document.createElement(\"img\");\n      img.onerror = () => {\n        this.$emit(\"input\", \"\");\n      };\n      img.src = this.imgSrc;\n    }\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    uploadto() {\n      return (\n        (this.options && this.options.action) ||\n        console.error(\n          (this.options.id || this.options.prop) + \" missing action\"\n        ) ||\n        \"\"\n      );\n    }\n  },\n  methods: {\n    handleAvatarSuccess(res, file) {\n      console.log(\"handleAvatarSuccess\", res, this.options);\n      this.$emit(\"eventAvatarUploadSucess\", res, this.options);\n      /* 若果imgSrc存在，则不需要 URL.createObjectURL*/\n      this.$emit(\"input\", URL.createObjectURL(file.raw));\n    },\n    handleAvatarError(error, file, fileList) {\n      /* 若果imgSrc存在，则不需要 URL.createObjectURL*/\n      this.$message({\n        message: \"失败，网络故障\" + error,\n        type: \"warning\"\n      });\n      console.log(fileList);\n    },\n    beforeAvatarUpload(file) {\n      // const isJPG = file.type === \"image/jpeg\";\n      const isLt2M = file.size / 1024 / 1024 < 2;\n\n      // if (!isJPG) {\n      //   this.$message.error(\"上传头像图片只能是 JPG 格式!\");\n      // }\n      if (!isLt2M) {\n        this.$message.error(\"上传头像图片大小不能超过 2MB!\");\n      }\n      // return isJPG && isLt2M;\n      return isLt2M;\n    }\n  },\n  watch: {}\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style  lang=\"scss\">\n.avatar-uploader {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n    &:hover {\n      border-color: #409eff;\n    }\n  }\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 178px;\n    height: 178px;\n    line-height: 178px;\n    text-align: center;\n  }\n  .avatar {\n    width: 178px;\n    height: 178px;\n    display: block;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvatarUpload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvatarUpload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AvatarUpload.vue?vue&type=template&id=0ab2f2ac&\"\nimport script from \"./AvatarUpload.vue?vue&type=script&lang=js&\"\nexport * from \"./AvatarUpload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AvatarUpload.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"AvatarUpload.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvatarUpload.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvatarUpload.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}