(function(e){function t(t){for(var r,n,i=t[0],l=t[1],c=t[2],d=0,u=[];d<i.length;d++)n=i[d],o[n]&&u.push(o[n][0]),o[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);p&&p(t);while(u.length)u.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,n=1;n<a.length;n++){var i=a[n];0!==o[i]&&(r=!1)}r&&(s.splice(t--,1),e=l(l.s=a[0]))}return e}var r={},n={fnbpc_sf:0},o={fnbpc_sf:0},s=[];function i(e){return l.p+"js/"+({Aside:"Aside",Datagrid:"Datagrid",FormTable:"FormTable",ImageList:"ImageList",PickupTree:"PickupTree",FormTableItem:"FormTableItem",AvatarUpload:"AvatarUpload",CInputSearch:"CInputSearch"}[e]||e)+"."+{Aside:"f168a64e",Datagrid:"37d6e244",FormTable:"d4579f4b",ImageList:"c977139d",PickupTree:"239b4a2e",FormTableItem:"3ea633cb",AvatarUpload:"f5a8c0c6",CInputSearch:"cb6d2188"}[e]+".js"}function l(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a={Datagrid:1,FormTable:1,ImageList:1,PickupTree:1,FormTableItem:1,AvatarUpload:1,CInputSearch:1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=new Promise(function(t,a){for(var r="css/"+({Aside:"Aside",Datagrid:"Datagrid",FormTable:"FormTable",ImageList:"ImageList",PickupTree:"PickupTree",FormTableItem:"FormTableItem",AvatarUpload:"AvatarUpload",CInputSearch:"CInputSearch"}[e]||e)+"."+{Aside:"31d6cfe0",Datagrid:"aa0aa7d7",FormTable:"7aaaee07",ImageList:"3906b1bc",PickupTree:"e7740c7b",FormTableItem:"05265851",AvatarUpload:"c3972a9f",CInputSearch:"05265851"}[e]+".css",o=l.p+r,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var c=s[i],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===r||d===o))return t()}var u=document.getElementsByTagName("style");for(i=0;i<u.length;i++){c=u[i],d=c.getAttribute("data-href");if(d===r||d===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.request=r,delete n[e],p.parentNode.removeChild(p),a(s)},p.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(p)}).then(function(){n[e]=0}));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise(function(t,a){r=o[e]=[t,a]});t.push(r[2]=s);var c,d=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=i(e),c=function(t){u.onerror=u.onload=null,clearTimeout(p);var a=o[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+r+": "+n+")");s.type=r,s.request=n,a[1](s)}o[e]=void 0}};var p=setTimeout(function(){c({type:"timeout",target:u})},12e4);u.onerror=u.onload=c,d.appendChild(u)}return Promise.all(t)},l.m=e,l.c=r,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(a,r,function(t){return e[t]}.bind(null,r));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/scha-web/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var p=d;s.push([20,"chunk-vendors","chunk-common"]),a()})({20:function(e,t,a){e.exports=a("957e")},"957e":function(e,t,a){"use strict";a.r(t);var r=a("a026"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{name:"silde-fade"}},[a("keep-alive",{attrs:{include:"FnbpcFkjc"}},[a("router-view")],1)],1)],1)},o=[],s=(a("f751"),a("ac6a"),a("2909")),i=a("be94"),l=(a("96cf"),a("1da1")),c=[{prop:"id",label:"id",colspan:1,rowspan:1},{prop:"sfrq",label:"随访日期",colspan:1,rowspan:1},{prop:"sfys",label:"随访医生",colspan:1,rowspan:1},{prop:"sffs",label:"随访方式",colspan:1,rowspan:1},{prop:"zdxm",label:"针对项目",colspan:1,rowspan:1},{prop:"sfjg",label:"随访结果",colspan:1,rowspan:1}],d=[[{rowspan:1,colspan:1,items:[{prop:"sfrq",placeholder:"随访日期",label:"随访日期",required:!0,type:"date.picker"}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"sfys",placeholder:"随访医生",label:"随访医生",required:!0,type:"select"}],width:"",type:"input"}],[{rowspan:1,colspan:1,items:[{prop:"sffs",placeholder:"随访方式",label:"随访方式",required:!0,bind:{id:"sffs",type:"combobox",lx:"sjzd",key:"02010103",isnull:"false"},type:"select"}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"zdxm",placeholder:"针对项目",label:"针对项目",type:"select"}],width:"",type:"input"}],[{rowspan:1,colspan:2,items:[{prop:"sfjg",placeholder:"随访结果",label:"随访结果",multiline:!0,type:"textarea"}],width:"",type:"input"}],[{rowspan:1,colspan:2,items:[{prop:"zdyj",placeholder:"指导意见",label:"指导意见",multiline:!0,type:"textarea"}],width:"",type:"input"}]],u=[{prop:"text",label:"项目名称"},{prop:"ywsx",label:"业务缩写"},{prop:"zlx",label:"值类型"},{prop:"bzz",label:"值范围",width:300},{prop:"dw",label:"单位"},{prop:"jg",label:"结果"},{prop:"wh",label:"操作"}],p={sfrq:"",sfys:"",sffs:"",zdxm:"",sfjg:"",zdyj:""},m={sfrq:[{required:!0,message:"不能为空",trigger:"blur"}],sfys:[{required:!0,message:"不能为空",trigger:"blur"}],sffs:[{required:!0,message:"不能为空",trigger:"blur"}]},f={dslTableHeaderTop:c,dslArray:d,dslTableHeaderSub:u,model:p,rules:m},h=f,b=[{title:!1,rows:[[{rowspan:1,colspan:3,items:[{prop:"bh",type:"input",placeholder:"请输入编号",label:"编号"}],width:"",type:"input"}],[{rowspan:1,colspan:3,items:[{prop:"xm",type:"input",placeholder:"请输入个人姓名",label:"个人姓名"}],width:"",type:"input"}]]}],g={ttmc:"",bh:"",ttlx:"",xm:""},v={message:"",type:""},y={name:"AppRoot",mounted:function(){},provide:function(){return{APP:this}},data:function(){return{modelAsideQuery:g,modelAsideList:[],modelTableHeaderTopList:[],model:h.model,modelTableHeaderSubList:[],rules:h.rules,dslAsideQuery:b,mock:h,modelInit:{},modelAdd:h.model,modelAddTableHeaderSubList:[],modelAddAsideTree:!1}},computed:{treeOptions:function(){var e={props:{children:"children",label:"xm"}};return e.data=this.modelAsideList,e}},methods:{goTo:function(e){this.$router.push({name:e})},c:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];console.log.apply(console,t)},save:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a,r,n,o,s=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},a=t.loading,a=a||this.$loading(),e.prev=2,r=this.modelAdd,n=this.modelAddTableHeaderSubList,e.next=8,this.$post("/proxy/save",{coll:"fnbpc_hyjc",doc:r,list:n});case 8:if(o=e.sent,!o.isSuccess){e.next=17;break}v={type:"success",message:"保存成功"},this.model=this.modelAdd,this.modelTableHeaderSubList=this.modelAddTableHeaderSubList,this.getAsideList(),this.goTo("home"),e.next=18;break;case 17:throw new Error(o.data);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](2),v={type:"error",message:e.t0.message};case 23:return e.prev=23,a.close(),this.$message(Object(i["a"])({showClose:!0},v)),e.finish(23);case 27:case"end":return e.stop()}},e,this,[[2,20,23,27]])}));function t(){return e.apply(this,arguments)}return t}(),remove:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a,r,n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.loading,e.next=3,this.$confirm("确实要删除当前的表单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:if(r=e.sent,r){e.next=6;break}return e.abrupt("return");case 6:return a=a||this.$loading(),n=this.model,e.prev=8,e.next=11,this.$post("/proxy/delete",{coll:"fnbpc_jbzl",doc:n});case 11:if(o=e.sent,!o.isSuccess){e.next=18;break}this.$message({showClose:!0,message:"删除成功",type:"success"}),this.model={},this.getAsideList(),e.next=20;break;case 18:throw console.log(o.data),new Error("error");case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](8),this.$message({showClose:!0,message:e.t0.message,type:"error"});case 25:return e.prev=25,a.close(),e.finish(25);case 28:case"end":return e.stop()}},e,this,[[8,22,25,28]])}));function t(t){return e.apply(this,arguments)}return t}(),getAsideList:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a,r,n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$loading(),a=this.modelAsideQuery,e.prev=2,e.next=5,this.$post("/proxy/get",{coll:"fnbpc_jbzl",doc:{},condition:a});case 5:r=e.sent,n=r.isSuccess,o=r.data,n&&(this.modelAsideList=o),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0);case 14:t.close();case 15:case"end":return e.stop()}},e,this,[[2,11]])}));function t(){return e.apply(this,arguments)}return t}(),handleClickAside:function(e){var t=e.data;e.node,e.vm;console.log("handleClickAside",t),this.modelTableHeaderTopList=function(e){return Object(s["a"])(Array(10).keys()).map(function(t){return Object(i["a"])({},e,{jcdh:t})})}({id:Date.now(),sfrq:Date.now(),sfys:Date.now()+1,sffs:Date.now()+2,zdxm:"",sfjg:""})},handleClickTableHeaderTopRow:function(e,t,a){console.log("handleClickTableHeaderTopRow",e),this.model=Object.assign({sfrq:Date.now(),sfys:Date.now(),sffs:Date.now(),zdxm:"",sfjg:"",zdyj:""},e)}},watch:{model:function(e){console.clear(),console.log("model",e)}}},w=y,A=(a("a7a0"),a("241f"),a("2877")),T=Object(A["a"])(w,n,o,!1,null,null,null);T.options.__file="App.vue";var P=T.exports,x=a("8c4f"),k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view aside"},[a("c-aside",{on:{clickAside:e.APP.handleClickAside}}),a("main",{staticClass:"main"},[a("div",{staticClass:"tool-bar fixed"},[a("el-button",{on:{click:function(t){e.APP.goTo("add")}}},[e._v("新增")]),a("el-button",{staticClass:"button",attrs:{disabled:!Boolean(e.APP.model.jcdh)},on:{click:function(t){e.APP.goTo("update")}}},[e._v("修改")]),a("el-button",{attrs:{disabled:!Boolean(e.APP.model.jcdh)},on:{click:e.APP.remove}},[e._v("删除")])],1),a("div",{staticClass:"tool-bar"}),a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{name:1}},[a("el-table",{staticStyle:{width:"99%"},attrs:{data:e.APP.modelTableHeaderTopList,height:"200","highlight-current-row":""},on:{"row-click":e.APP.handleClickTableHeaderTopRow}},[e._l(e.APP.mock.dslTableHeaderTop,function(e,t){return[a("el-table-column",{key:t,attrs:{prop:e.prop,label:e.label}})]})],2)],1),a("el-collapse-item",{attrs:{name:2}},[a("c-table",{ref:"topTabe",staticClass:"box-card",attrs:{dsl:e.APP.mock.dslArray,rules:e.APP.rules,tableInfo:{cellspacing:2},disabled:!0},model:{value:e.APP.model,callback:function(t){e.$set(e.APP,"model",t)},expression:"APP.model"}})],1)],1)],1)],1)},j=[],C={components:{CTable:function(){return a.e("FormTable").then(a.bind(null,"1b52"))},CImageList:function(){return a.e("ImageList").then(a.bind(null,"669b"))},CAside:function(){return a.e("Aside").then(a.bind(null,"85da"))},CDatagrid:function(){return a.e("Datagrid").then(a.bind(null,"5710"))},CPickupTree:function(){return a.e("PickupTree").then(a.bind(null,"b737"))}}},L=(a("1157"),{name:"FnbpcFkjc",mixins:[C],inject:["APP"],mounted:function(){this.APP.getAsideList()},data:function(){return{asideTree:[],activeNames:[1,2,3]}},methods:{save:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$refs.topTabe.valid();case 3:if(!e.sent){e.next=7;break}this.APP.save(),e.next=8;break;case 7:throw new Error("请按照提示检查输入项");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.message,type:"warning"});case 13:case"end":return e.stop()}},e,this,[[0,10]])}));function t(){return e.apply(this,arguments)}return t}(),getTitle:function(e){return this.APP.model.xm?"".concat(e,"-").concat(this.APP.model.xm,"-").concat(this.APP.model.bh):e}}}),O=L,S=Object(A["a"])(O,k,j,!1,null,null,null);S.options.__file="Main.vue";var _=S.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view aside"},[a("main",{staticClass:"main"},[a("div",{staticClass:"tool-bar fixed"},[a("el-button",{on:{click:function(t){e.goTo("home")}}},[e._v("放弃编辑")]),a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1),a("div",{staticClass:"tool-bar"}),a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{name:2}},[a("c-table",{ref:"topTabe",staticClass:"box-card",attrs:{dsl:e.APP.mock.dslArray,rules:e.APP.rules,tableInfo:{cellspacing:2}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)],1)],1)])},I=[],R=(a("20d6"),a("7f7f"),{name:"HqbjHjHyjc",mixins:[C],inject:["APP"],beforeRouteEnter:function(e,t,a){a(function(t){console.warn("beforeRouteEnter",e.name);var a=e.name,r={add:function(){t.model={cysj:"2018-12-26",sjys:"51340100101001",hysj:"2018-12-26",hyys:"51340100101001",jcdh:"",hyxm:"",hyjg:""}},update:function(){t.model=JSON.parse(JSON.stringify(t.APP.model)),t.modelList=JSON.parse(JSON.stringify(t.APP.modelTableHeaderSubList))}};r[a]&&r[a](),t.APP.modelAddAsideTree||Object(l["a"])(regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$post("/proxy/get",{coll:"dictionary",doc:{name:"HyjcAppendTree"}});case 2:a=e.sent,a.data&&a.data.length>0&&a.data[0].data&&t.$set(t.APP,"modelAddAsideTree",a.data[0].data);case 4:case"end":return e.stop()}},e,this)}))()})},mounted:function(){var e=this.$refs.pickupTree.getTree();e.setCheckedNodes(Object(s["a"])(this.modelList).concat([{id:"0000000003"}]))},data:function(){return{model:{},modelList:[],activeNames:[2,3]}},methods:{goTo:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("确实要放弃编辑?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 2:if(a=e.sent,a){e.next=5;break}return e.abrupt("return");case 5:this.APP.goTo("home");case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleCheckChange:function(){var e=this.$refs.pickupTree.getTree(),t=!0,a=e.getCheckedNodes(t);console.log("currentChecked",a);var r=Object(s["a"])(this.modelList);a.map(function(e,t){for(var n=0;n<r.length;n++){var o=r[n];if(o.id===e.id)return void(a[t]=o)}}),this.modelList=a},deleteTableRow:function(e,t){console.log("deleteTableRow",e,t);var a,r=Object(s["a"])(this.currentTableModelAdd),n=r.findIndex(function(t){return t.id===e.id});a=r.splice(n,1),console.log("delete",a),this.setCurrentTableModelAdd(r)},save:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$refs.topTabe.valid();case 3:if(!e.sent){e.next=9;break}this.APP.modelAdd=this.model,this.APP.modelAddTableHeaderSubList=this.modelList,this.APP.save(),e.next=10;break;case 9:throw new Error("请按照提示检查输入项");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),this.$message({showClose:!0,message:e.t0.message,type:"warning"});case 15:case"end":return e.stop()}},e,this,[[0,12]])}));function t(){return e.apply(this,arguments)}return t}()},computed:{}}),H=R,F=Object(A["a"])(H,$,I,!1,null,null,null);F.options.__file="MainAdd.vue";var N=F.exports;r["default"].use(x["a"]);var E=new x["a"]({routes:[{path:"*",redirect:"/"},{path:"/",name:"home",component:_},{path:"/add",name:"add",component:N},{path:"/update",name:"update",component:N}]}),D=(a("7378"),a("fa6d"),a("13af")),q=a("f65b");r["default"].prototype.$global=q["a"],r["default"].prototype.$post=D["b"],r["default"].prototype.$get=D["a"],r["default"].config.productionTip=!1,new r["default"]({router:E,render:function(e){return e(P)}}).$mount("#app")}});
//# sourceMappingURL=fnbpc_sf.31ed04cb.js.map