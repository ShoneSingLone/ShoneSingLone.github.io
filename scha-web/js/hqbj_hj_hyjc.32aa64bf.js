(function(e){function t(t){for(var r,l,s=t[0],i=t[1],c=t[2],d=0,u=[];d<s.length;d++)l=s[d],o[l]&&u.push(o[l][0]),o[l]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);p&&p(t);while(u.length)u.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,l=1;l<a.length;l++){var s=a[l];0!==o[s]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},l={hqbj_hj_hyjc:0},o={hqbj_hj_hyjc:0},n=[];function s(e){return i.p+"js/"+({FormTable:"FormTable",ImageList:"ImageList",PickupTree:"PickupTree",FormTableItem:"FormTableItem",AvatarUpload:"AvatarUpload",CInputSearch:"CInputSearch"}[e]||e)+"."+{FormTable:"d4579f4b",ImageList:"c977139d",PickupTree:"239b4a2e",FormTableItem:"3ea633cb",AvatarUpload:"f5a8c0c6",CInputSearch:"cb6d2188"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(e){var t=[],a={FormTable:1,ImageList:1,PickupTree:1,FormTableItem:1,AvatarUpload:1,CInputSearch:1};l[e]?t.push(l[e]):0!==l[e]&&a[e]&&t.push(l[e]=new Promise(function(t,a){for(var r="css/"+({FormTable:"FormTable",ImageList:"ImageList",PickupTree:"PickupTree",FormTableItem:"FormTableItem",AvatarUpload:"AvatarUpload",CInputSearch:"CInputSearch"}[e]||e)+"."+{FormTable:"7aaaee07",ImageList:"3906b1bc",PickupTree:"e7740c7b",FormTableItem:"05265851",AvatarUpload:"c3972a9f",CInputSearch:"05265851"}[e]+".css",o=i.p+r,n=document.getElementsByTagName("link"),s=0;s<n.length;s++){var c=n[s],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===r||d===o))return t()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){c=u[s],d=c.getAttribute("data-href");if(d===r||d===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||o,n=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");n.request=r,delete l[e],p.parentNode.removeChild(p),a(n)},p.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(p)}).then(function(){l[e]=0}));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise(function(t,a){r=o[e]=[t,a]});t.push(r[2]=n);var c,d=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=s(e),c=function(t){u.onerror=u.onload=null,clearTimeout(p);var a=o[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),l=t&&t.target&&t.target.src,n=new Error("Loading chunk "+e+" failed.\n("+r+": "+l+")");n.type=r,n.request=l,a[1](n)}o[e]=void 0}};var p=setTimeout(function(){c({type:"timeout",target:u})},12e4);u.onerror=u.onload=c,d.appendChild(u)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/scha-web/",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var p=d;n.push([2,"chunk-vendors","chunk-common"]),a()})({"1dd2":function(e,t,a){"use strict";a.r(t);var r=a("a026"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("keep-alive",[a("router-view")],1)],1)},o=[],n=(a("a7a0"),a("241f"),a("2877")),s={},i=Object(n["a"])(s,l,o,!1,null,null,null);i.options.__file="App.vue";var c=i.exports,d=a("8c4f"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view aside"},[a("aside",{staticClass:"pickup"},[a("c-pickup-tree",{attrs:{treeOptions:e.treeOptions},on:{"node-click":e.handleNodeClick}})],1),a("main",{staticClass:"main"},[a("div",{staticClass:"tool-bar fixed"},[a("el-button",{on:{click:function(t){e.goTo("add")}}},[e._v("新增")]),a("el-button",{on:{click:function(t){e.goTo("update")}}},[e._v("修改")]),a("el-button",{on:{click:function(t){e.goTo("remove")}}},[e._v("删除")])],1),a("div",{staticClass:"tool-bar"}),a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.dslArray,function(t,r){return a("el-collapse-item",{key:"panelDsl"+r,attrs:{title:t.title,name:t.title}},[a("c-table",{ref:"topTabe",refInFor:!0,staticClass:"box-card",attrs:{dsl:t.rows,rules:e.rules,tableInfo:t,disabled:!0},model:{value:e.currentModel,callback:function(t){e.currentModel=t},expression:"currentModel"}})],1)})),a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"项目列表",name:"datagrid"}},[a("div",{attrs:{id:"datagrid"}},[a("el-table",{attrs:{data:e.currentTableModel}},[e._l(e.tableHeader,function(t,r){return["jcdh"===t.prop?a("el-table-column",{key:r,attrs:{prop:t.prop,label:t.label},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{ref:"dynamicValidateForm",refInFor:!0,staticClass:"demo-dynamic",attrs:{model:t.row}},[a("el-form-item",{attrs:{prop:"jcdh",rules:e.rules.jcdh}},[a("el-input",{model:{value:t.row.jcdh,callback:function(a){e.$set(t.row,"jcdh",a)},expression:"scope.row.jcdh"}})],1)],1)]}}])}):"jg"===t.prop?a("el-table-column",{key:r,attrs:{prop:t.prop,label:t.label},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{ref:"dynamicValidateForm",refInFor:!0,staticClass:"demo-dynamic",attrs:{model:t.row}},[a("el-form-item",{attrs:{prop:"jg",rules:e.rules.jcdh}},[a("el-input",{model:{value:t.row.jg,callback:function(a){e.$set(t.row,"jg",a)},expression:"scope.row.jg"}})],1)],1)]}}])}):"wh"===t.prop?a("el-table-column",{key:r,attrs:{prop:t.prop,label:t.label},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{on:{click:function(a){e.deleteTableRow(t.row,t)}}},[e._v("删除")])]}}])}):a("el-table-column",{key:r,attrs:{prop:t.prop,label:t.label}})]})],2)],1)])],1)],1)])},p=[],m=(a("6b54"),a("be94")),h=a("2f62"),f=[],b=[{prop:"jcdh",label:"检查单号",type:"input"},{prop:"ywsx",label:"业务缩写"},{prop:"mc",label:"项目名称"},{prop:"jg",label:"检查结果",type:"input"},{prop:"dw",label:"单位"},{prop:"ckbz",label:"标准值"},{prop:"pj",label:"评价"},{prop:"wh",label:"操作"}],y={jcsd:[{required:!0,message:"不能为空",trigger:"blur"}],mzh:[{required:!0,message:"不能为空",trigger:"blur"}],jcyyid:[{required:!0,message:"不能为空",trigger:"blur"}]},v=[{title:"检查项目【项目选择后点击对应的行输入结果】",rows:[[{rowspan:1,colspan:1,items:[{prop:"jcsd",type:"select",placeholder:"请选择检查对象",label:"检查对象",required:!0,data:[{value:"nhj_hyjc",text:"男性检查"},{value:"vhj_hyjc",text:"女性检查"}]}],width:"25%",type:"input"},{rowspan:1,colspan:1,items:[{prop:"mzh",type:"input",placeholder:"请输入门诊号",label:"门诊号",required:!0}],width:"25%",type:"input"},{rowspan:1,colspan:1,items:[{prop:"jcyyid",type:"input",placeholder:"请选择检查医院",label:"检查医院",required:!0,readonly:!0}],width:"25%",type:"input"},{rowspan:1,colspan:1,items:[{prop:"jcys",type:"select",placeholder:"请选择检查医生",label:"检查医生",required:!1,editable:!0}],width:"25%",type:"input"}],[{rowspan:1,colspan:1,items:[{prop:"cysj",type:"date.picker",placeholder:"请选择采样时间",label:"采样时间",required:!1}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"sjys",type:"select",placeholder:"请选择送检医生",label:"送检医生",required:!1,editable:!0}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"hysj",type:"date.picker",placeholder:"请选择化验时间",label:"化验时间",required:!1}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"hyys",type:"select",placeholder:"请选择化验医生",label:"化验医生",required:!1,editable:!0}],width:"",type:"input"}],[{rowspan:1,colspan:1,items:[{prop:"shsj",type:"date.picker",placeholder:"请选择审核时间",label:"审核时间",required:!1}],width:"",type:"input"},{rowspan:1,colspan:1,items:[{prop:"shys",type:"select",placeholder:"请选择审核医生",label:"审核医生",required:!1,editable:!0}],width:"",type:"input"},{rowspan:1,colspan:1,items:[],width:"",type:"input"},{rowspan:1,colspan:2,items:[{prop:"",type:"",placeholder:null,label:"说明:门诊号是化验结果与业务管理之间联系的唯一表示。"}],width:"",type:"input"}]],cellspacing:"2"}],g={jcsd:"",mzh:"",jcyyid:"西昌市妇幼保健计划生育服务中心",jcys:"51340100101001",cysj:"2018-12-14",sjys:"51340100101001",hysj:"2018-12-14",hyys:"51340100101001",shsj:"2018-12-14",shys:"51340100101001"},j={data:function(){return{tableHeader:b}},computed:Object(m["a"])({},Object(h["d"])(["currentModel","currentModelAdd","currentTableModel","currentTableModelAdd"])),methods:Object(m["a"])({},Object(h["c"])(["setCurrentModel","setCurrentModelAdd","setCurrentTableModel","setCurrentTableModelAdd"]),{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];console.log(t)}),submit:function(){var e=this;this.$refs.hytable[0].valid().then(function(t){t&&e.$notify({title:"提示",message:"数据校验成功，可以提交表单"})})},handleChange:function(e){console.log("activeNames",e,e===this.activeNames)}}),watch:{model:function(e,t){console.log("model change",e,t)}},components:{"c-table":function(){return a.e("FormTable").then(a.bind(null,"1b52"))},CPickupTree:function(){return a.e("PickupTree").then(a.bind(null,"b737"))},CImageList:function(){return a.e("ImageList").then(a.bind(null,"669b"))}},beforeRouteEnter:function(e,t,a){console.log("beforeRouteEnter",e,t,a),a()},beforeRouteUpdate:function(e,t,a){console.log("tbeforeRouteUpdate",e,t),a()},beforeRouteLeave:function(e,t,a){console.log("beforeRouteLeave",e,t),a()}},w=a("1157"),T=a.n(w),k={name:"HqbjHjHyjc",mixins:[j],mounted:function(){var e=this;T.a.ajax({url:"/scha-web/a/fnbj/hys/list",success:function(t){var a=t.data;a.map(function(e){e.text=e.mzh+"-"+e.jcdx});e.asideTree=t.data}}),T.a.ajax({url:"/scha-web/a/fnbj/hys/selectOneById",data:{id:1},success:function(t){e.setCurrentModel(t.modelEntity),e.setCurrentTableModel(t.tableEntityList)}}),this.activeNames=this.dslArray.map(function(e){return e.title}),this.activeNames.push("datagrid")},data:function(){return{rules:y,dslArray:v,asideTree:[],activeNames:[]}},methods:{handleNodeClick:function(e,t,a){a=this;T.a.ajax({url:"/scha-web/a/fnbj/hys/selectOneById",data:{id:e.id},success:function(e){a.setCurrentModel(e.modelEntity),a.setCurrentTableModel(e.tableEntityList)}}),t.isLeaf&&e&&e.data&&(this.setCurrentModel(e.data),this.modelTableInfo=e),console.log(t,a)},goTo:function(e){this.$router.push({name:e})},afterRemove:function(e){this.setCurrentModel({}),this.activeNames=["query"],e.close(),this.$message({showClose:!0,message:"删除成功",type:"success"}),this.query()}},computed:{treeOptions:function(){var e={props:{children:"children",label:"text"}};return e.data=this.asideTree,e}}},C=k,_=Object(n["a"])(C,u,p,!1,null,null,null);_.options.__file="Main.vue";var M=_.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view aside"},[a("aside",{staticClass:"pickup"},[a("c-pickup-tree",{ref:"pickupTree",attrs:{treeOptions:e.treeOptions},on:{"check-change":e.handleCheckChange}})],1),a("main",{staticClass:"main"},[a("div",{staticClass:"tool-bar fixed"},[a("el-button",{on:{click:function(t){e.goTo("home")}}},[e._v("放弃编辑")]),a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1),a("div",{staticClass:"tool-bar"}),a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.dslArray,function(t,r){return a("el-collapse-item",{key:"panelDsl"+r,attrs:{title:t.title,name:t.title}},[a("c-table",{ref:"topTabe",refInFor:!0,staticClass:"box-card",attrs:{dsl:t.rows,rules:e.rules,tableInfo:t},model:{value:e.currentModelAdd,callback:function(t){e.currentModelAdd=t},expression:"currentModelAdd"}})],1)})),a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"项目列表",name:"datagrid"}},[a("div",{attrs:{id:"datagrid"}},[a("el-table",{attrs:{data:e.currentTableModelAdd}},[e._l(e.tableHeader,function(t,r){return["jcdh"===e.tableHz.prop?a("el-table-column",{key:r,attrs:{prop:t.prop,label:t.label},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{ref:"dynamicValidateForm",refInFor:!0,staticClass:"demo-dynamic",attrs:{model:t.row}},[a("el-form-item",{attrs:{prop:"jcdh",rules:e.rules.jcdh}},[a("el-input",{model:{value:t.row.jcdh,callback:function(a){e.$set(t.row,"jcdh",a)},expression:"scope.row.jcdh"}})],1)],1)]}}])}):"jg"===t.prop?a("el-table-column",{key:r,attrs:{prop:t.prop,label:t.label},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{ref:"dynamicValidateForm",refInFor:!0,staticClass:"demo-dynamic",attrs:{model:t.row}},[a("el-form-item",{attrs:{prop:"jg",rules:e.rules.jcdh}},[a("el-input",{model:{value:t.row.jg,callback:function(a){e.$set(t.row,"jg",a)},expression:"scope.row.jg"}})],1)],1)]}}])}):"wh"===t.prop?a("el-table-column",{key:r,attrs:{prop:t.prop,label:t.label},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{on:{click:function(a){e.deleteTableRow(t.row,t)}}},[e._v("删除")])]}}])}):a("el-table-column",{key:r,attrs:{prop:t.prop,label:t.label}})]})],2)],1)])],1)],1)])},x=[],I=(a("20d6"),a("2909")),N={name:"HqbjHjHyjc",mixins:[j],mounted:function(){var e=this;T.a.ajax({url:"/scha-web/a/fnbj/hys/asideList",success:function(t){e.asideTree=t.data}}),this.activeNames=this.dslArray.map(function(e){return e.title}),this.activeNames.push("datagrid")},data:function(){return{rules:y,dslArray:v,asideTree:[],activeNames:[]}},methods:{goTo:function(e){this.$router.push({name:e})},handleCheckChange:function(){var e=this.$refs.pickupTree.getTree(),t=!0,a=e.getCheckedNodes(t),r=Object(I["a"])(this.currentTableModelAdd);a.map(function(e,t){for(var l=0;l<r.length;l++){var o=r[l];if(o.id===e.id)return void(a[t]=o)}}),this.setCurrentTableModelAdd(a)},deleteTableRow:function(e,t){console.log("deleteTableRow",e,t);var a,r=Object(I["a"])(this.currentTableModelAdd),l=r.findIndex(function(t){return t.id===e.id});a=r.splice(l,1),console.log("delete",a),this.setCurrentTableModelAdd(r)},save:function(){var e=this.currentModelAdd,t=this.currentTableModelAdd;console.log("save",this.currentModelAdd),console.log("save currentTableModelAdd",this.currentTableModelAdd),T.a.ajax({url:"/scha-web/a/fnbj/hys/addHyd",data:{model_cysj:e.cysj,model_hysj:e.hysj,model_hyys:e.hyys,model_jcsd:e.jcsd,model_jcys:e.jcys,model_jcyyid:e.jcyyid,model_mzh:e.mzh,model_shsj:e.shsj,model_shys:e.shys,model_sjys:e.sjys,table:JSON.parse(JSON.stringify(t))},dataType:"json",success:function(e){alert("ok")}})}},computed:{treeOptions:function(){var e={props:{children:"children",label:"mc"}};return e.data=this.asideTree,e.showCheckbox=!0,e}}},O=N,F=Object(n["a"])(O,A,x,!1,null,null,null);F.options.__file="MainAdd.vue";var S=F.exports;r["default"].use(d["a"]);var q=new d["a"]({routes:[{path:"*",redirect:"/"},{path:"/",name:"home",component:M},{path:"/add",name:"add",component:S},{path:"/update",name:"update",component:S}]});r["default"].use(h["a"]);var P=new h["a"].Store({state:{currentModel:g,currentTableModel:f,currentModelAdd:g,currentTableModelAdd:f},actions:{setCurrentPath:function(e,t){var a=e.commit;return a("setCurrentPath",t)}},mutations:{setCurrentModel:function(e,t){e.currentModel=t},setCurrentTableModel:function(e,t){e.currentTableModel=t},setCurrentModelAdd:function(e,t){e.currentModelAdd=t},setCurrentTableModelAdd:function(e,t){e.currentTableModelAdd=t}}}),E=(a("7378"),a("fa6d"),a("13af")),L=a("f65b");r["default"].prototype.$global=L["a"],r["default"].prototype.$post=E["b"],r["default"].prototype.$get=E["a"],r["default"].config.productionTip=!1,new r["default"]({router:q,store:P,render:function(e){return e(c)}}).$mount("#app")},2:function(e,t,a){e.exports=a("1dd2")}});
//# sourceMappingURL=hqbj_hj_hyjc.32aa64bf.js.map