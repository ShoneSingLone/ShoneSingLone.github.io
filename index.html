<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
    <meta charset="UTF-8">
    <title>ShoneSingLone's MicroSite</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- js -->
    <script src="./public/javascripts/jquery-3.2.1.js"></script>
    <script src="./public/javascripts/jquery.uriAnchor-1.1.3.js"></script>
    <script src="./public/javascripts/headroom.js"></script>
    <script src="./public/bootstrap/js/bootstrap.js"></script>
    <script src="./public/javascripts/shell.js"></script>
    <script src="./public/javascripts/shell.navbar.js"></script>
    <!-- css -->
    <link href="./public/bootstrap/css/bootstrap-Shone.css" rel="stylesheet" media="screen">
    <link href="./public/stylesheets/animate.min.css" rel="stylesheet" media="screen" id="themeCss">
    <link href="./public/stylesheets/main.css" rel="stylesheet" media="screen" id="themeCss">
    <link href="./public/favicon.ico" rel="shortcut icon" type="image/png" />
    <style>

    </style>
    <style>
        #myavatar {
            text-align: center;
        }

        #wrap-toggle-darwer {
            position: absolute;
            top: 0;
            right: 0;
        }

        #portfolio-title {
            font-size: 18px;
            color: #0b3307;
        }

        .drawer-is-show {
            overflow: hidden;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
        }

        .left-section {
            color: rgb(255, 255, 255);
            display: block;
            font-family: Helvetica, Arial, sans-serif;
            font-size: 14px;
            font-weight: normal;
            height: 36px;
            line-height: 36px;
            margin-bottom: 16px;
            width: 147.859px
        }

        .right-section {
            /* text-align: right; */
            list-style: none;
            color: rgb(255, 255, 255);
            display: block;
            font-family: Helvetica, Arial, sans-serif;
            font-size: 14px;
            font-weight: normal;
            height: 52px;
            line-height: 20px;
            order: 1;
            width: 161.922px
        }
    </style>


</head>

<body>
    <header id="nav-top-bar" class="navbar navbar-default">
        <div class="container">
            <div id="wrap-toggle-darwer">
                <button id="toggle-darwer" type="button" class="navbar-toggle">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>

            <div id="myavatar">
                <div>
                    <span id="portfolio-title">ShoneSingLone's MicroSite</span>
                </div>
            </div>

            <script>
                dealImag = function (jsonData) {
                    if (jsonData.avatar_url) {
                        var $img = $("<img/>", {
                            id: "avatar_url",
                            class: "img-circle",
                            src: jsonData.avatar_url,
                            alt: "avatar",
                            height: 150 + "px",
                            display: "block",
                            "data-animate-url": "https://daneden.github.io/animate.css/"
                        });

                        var transTime = 2000;
                        $("#myavatar").prepend($img.hide());
                        $img.css({
                            "margin": "10px auto"
                        }).show(transTime);
                        $("#portfolio-title").animate({
                            "font-size": "14px"
                        }, transTime);
                    }
                }
            </script>
        </div>
        <nav id="drawer">
            <div class="container">
                <div class="nav nav-pills">
                    <div class="col-sm-3">
                        <a href="#portfolio">Portfolio</a>
                    </div>
                    <div class="col-sm-3 active">
                        <a href="#blog">Blog</a>
                    </div>
                    <div class="col-sm-3">
                        <a target="_blank" href="https://github.com/ShoneSingLone">GitHub</a>
                    </div>
                    <div class="col-sm-3">
                        <a href="mailto:SingLone@foxmail.com">SingLone@foxmail.com</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <script>
        $(function () {
            shell.getDataFromAPI(dealImag, 3);


            (function () {
                var $body = $("body"),
                    // $main = $("main"),
                    $btn = $('#toggle-darwer'),
                    $drawer = $('#drawer .nav'),
                    $drawerBackdrop = $('<div class="drawer-backdrop"></div>');


                var drawerInit, drawerIn, drawerOut, drawerToggle;


                drawerIn = function () {
                    $body.addClass("drawer-is-show");
                    $drawer.animateCss("fadeInLeft", function () {
                        $drawerBackdrop.one("click.drawerOut", drawerOut);
                    }).show();
                    $drawerBackdrop.appendTo('body');
                };
                drawerOut = function () {
                    $drawer.animateCss("fadeOutLeft", drawerInit);
                };
                drawerInit = function () {
                    $drawer.hide();
                    $drawerBackdrop.remove();
                    $body.removeClass("drawer-is-show");
                    $btn.one("click.drawerIn", drawerIn);
                };

                $(window).on("resize.toogleDrawer", function (e) {
                    $('.currentsize').html("outerHeight: " + window.outerHeight + "\nouterWidth: " +
                        window.outerWidth);
                    if (!window.matchMedia("(min-width: 768px)").matches) {
                        if ($drawer.css("display") === "none") {
                            $btn.off("click.drawerIn").off("click.drawerOut");
                            $btn.one("click.drawerIn", drawerIn);
                        } else {
                            $drawerBackdrop.one("click.drawerOut", drawerOut);
                        }
                    } else {
                        if ($drawer.css("display") === "none") {
                            $drawerBackdrop.remove();
                            $drawer.css("display", "block");
                        }
                    }
                }).trigger("resize.toogleDrawer");

            })();
        });
    </script>

    <main id="main-content">
        <div class="container">
            <!-- container start -->
            <div class="row">
                <!-- row start -->
                <div class="col-sm-12">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h2 class="" class="mdl-card__title-text">wii-chat</h2>
                        </div>
                        <div class="panel-body">
                            <div class="mdl-card__supporting-text">learn WebSocket：a online multi-user chatroom based on socket.io</div>
                        </div>
                        <div class="panel-footer">
                            <a class="btn btn-default" href="./chat.html" role="button">wii-chat»</a>
                            </a>
                        </div>
                    </div>
                </div>
                <!-- row end -->
            </div>

            <div id="main-coontainer-row" class="row">
                <!-- row start -->
                <div class="col-sm-4">
                    <div id="main-container-row-col1"></div>
                </div>
                <div class="col-sm-4">
                    <div id="main-container-row-col2"></div>
                </div>
                <div class="col-sm-4">
                    <div id="main-container-row-col3"></div>
                </div>
                <!-- row end -->
            </div>
            <!-- container end -->
        </div>

        <footer id="footer">
            <div class="footer-container">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="logo left-section">My microSite</div>
                    </div>
                    <div class="col-sm-6">
                        <ul class="link-list right-section">
                            <li>
                                <a href="#">Nothing</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>
    </main>
    <script>
        function getContentCardHtmlStr(headStr, contentsStr) {
            headStr = headStr || "Blog template";
            contentsStr = contentsStr ||
                'Enim labore aliqua consequat ut quis ad occaecat aliquip incididunt. Sunt nulla eu enim irure enim nostrud aliqua consectetur ad consectetur sunt ullamco officia. Ex officia laborum et consequat duis.';
            return '' +
                '                    <div class="panel panel-default">' +
                '                        <div class="panel-heading">' +
                '                            <h2 class="currentsize" class="mdl-card__title-text">' + headStr + '</h2>' +
                '                        </div>' +
                '                        <div class="panel-body">' +
                '                            <div class="mdl-card__supporting-text">' + contentsStr +
                '                            </div>' +
                '                        </div>' +
                '                        <div class="panel-footer"><a class="btn btn-default" href="#" role="button">View details Read more»</a></a>' +
                '                        </div>' +
                '                    </div>';
        }

        $(function () {
            var $col1 = $("#main-container-row-col1"),
                $col2 = $("#main-container-row-col2"),
                $col3 = $("#main-container-row-col3");
            var colArray = [$col1, $col2, $col3];
            var contentArray = [];
            var randomPanelNum = Math.ceil(Math.random() * 100);
            for (var index = 0; index < randomPanelNum; index++) {
                var htmlString = getContentCardHtmlStr(index + "Blog template")
                // htmlString = getContentCardHtmlStr(htmlString.slice(Math.ceil(Math.random() * 100), Math.ceil(Math.random() * 100) + 100));

                var $htmlString = $(htmlString);
                console.lo
                var colIndex = index % 3;
                colArray[colIndex].append($htmlString);
            }
        })
    </script>
</body>

</html>