{"version":3,"sources":["webpack:///./src/pages/Home/Article/Article.vue?4010","webpack:///./src/pages/Home/Article/Article.vue?2810","webpack:///src/pages/Home/Article/Article.vue","webpack:///./src/pages/Home/Article/Article.vue?9aa0","webpack:///./src/pages/Home/Article/Article.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Article_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","attrs","name","staticClass","directives","rawName","value","isShowArticleList","expression","style","_l","item","index","key","options","colOptions","cardOptions","ref","on","scroll","articleScroll","article","class","open","background","slot","_v","_s","title","desc","primary","elevation","click","$event","showDetail","_f","updated_at","refresh","isPullUpTrigger","block","disabled","noMore","getMoreArticle","pullUpTips","detailScroll","md","colspan","offset","domProps","innerHTML","detailArticle","content","staticRenderFns","count","TIPS_PULLUP_BEFORE","TIPS_PULLUP_TRIGGER","TIPS_PULLUP_NOMORE","created","articleList","length","console","time","getArticleList","url","hostName","sort","timeEnd","mounted","_this","log","setTimeout","$emit","$el","beforeRouteEnter","to","from","next","warn","query","params","vm","setArticleStyle","movingDirectionY","top","articleScrollY","$refs","scrollTo","behavior","id","$router","push","beforeRouteUpdate","beforeRouteLeave","data","msg","radius","articleStyle","padding-top","padding-bottom","isShowDetail","computed","Object","objectSpread","vuex_esm","detailStyle","height","concat","appHeight","margin-top","toolHeight","filters","articleUpdatedAt","updated","dayjs_min_default","format","methods","event","margin-bottom","navHeight","_event$target","target","scrollHeight","scrollLeft","scrollTop","scrollWidth","setArticleScroll","_this3","$set","watch","newV","oldV","_this4","detail","currentShow","_currentShow","setShowToolBar","setShowNavBar","setMovingDirectionY","components","c-container","__webpack_require__","e","then","bind","c-row","c-col","c-button","c-card","Article_Articlevue_type_script_lang_js_","component","componentNormalizer","__file","__webpack_exports__"],"mappings":"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","file":"js/article.d48d0242.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade\"}},[_c('c-container',{staticClass:\"article-wrapper\"},[_c('transition',{attrs:{\"name\":\"fade-cross\"}},[_c('c-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isShowArticleList),expression:\"!isShowArticleList\"}],staticClass:\"skeleton\",style:(_vm.articleStyle)},_vm._l((15),function(item,index){return _c('c-col',{key:index,attrs:{\"options\":_vm.colOptions}},[_c('c-card',{attrs:{\"options\":_vm.cardOptions}},[_c('div',{staticClass:\"header\"}),_c('div',{staticClass:\"body\"}),_c('div',{staticClass:\"footer\"})])],1)}))],1),_c('transition',{attrs:{\"name\":\"fade-cross\"}},[_c('c-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowArticleList),expression:\"isShowArticleList\"}],ref:\"article\",staticClass:\"article\",style:(_vm.articleStyle),on:{\"scroll\":_vm.articleScroll}},[_vm._l((_vm.articleList),function(article,index){return _c('c-col',{key:index,attrs:{\"options\":_vm.colOptions}},[_c('c-card',{class:[{'open':article.open}],attrs:{\"options\":_vm.cardOptions}},[_c('h3',{staticClass:\"header\",style:({background:(\"url(\" + (article.imgUrl) + \") center center /cover no-repeat\")}),attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"\\n              \"+_vm._s(article.title)+\"\\n            \")]),_c('div',{staticClass:\"body\"},[_vm._v(\"\\n              \"+_vm._s(article.desc)+\"\\n              \"),_c('div',{staticClass:\"read-more-wrapper\"},[_c('c-button',{attrs:{\"options\":{class:{\n                primary:true,\n                elevation:true\n              }}},on:{\"click\":function($event){_vm.showDetail(article, index)}}},[_vm._v(\"Read\")])],1)]),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_vm._v(\"\\n              更新于： \"+_vm._s(_vm._f(\"articleUpdatedAt\")(article.updated_at))+\"\\n            \")])])],1)}),_c('c-col',{staticClass:\"pullup-wrapper\",attrs:{\"options\":_vm.colOptions}},[_c('c-button',{class:[{'refresh':_vm.isPullUpTrigger}],attrs:{\"options\":{class:{\n                            primary:true,\n                            elevation:true,\n                            block:true\n              }},\"disabled\":_vm.noMore},on:{\"click\":_vm.getMoreArticle}},[_vm._v(\"\\n            \"+_vm._s(_vm.pullUpTips)+\"\\n          \")])],1)],2)],1),_c('transition',{attrs:{\"name\":\"detail-slide\"}},[_c('c-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowDetail),expression:\"isShowDetail\"}],ref:\"detail\",staticClass:\"detail\",style:(_vm.detailStyle),on:{\"scroll\":_vm.detailScroll}},[_c('c-col',{attrs:{\"options\":{ class: { md: { colspan: 8, offset: 2 } } }}},[_c('c-card',[_c('div',{staticClass:\"detail-content\",domProps:{\"innerHTML\":_vm._s(_vm.detailArticle.content)}})])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <transition name=\"fade\">\r\n    <c-container class=\"article-wrapper\">\r\n      <!-- Article Skeleton -->\r\n      <transition name=\"fade-cross\">\r\n        <c-row class=\"skeleton\" v-show=\"!isShowArticleList\" :style=\"articleStyle\">\r\n          <c-col :options=\"colOptions\" v-for=\"(item, index) in 15\" :key=\"index\">\r\n            <c-card :options=\"cardOptions\">\r\n              <div class=\"header\">\r\n              </div>\r\n              <div class=\"body\">\r\n              </div>\r\n              <div class=\"footer\">\r\n              </div>\r\n            </c-card>\r\n          </c-col>\r\n        </c-row>\r\n      </transition>\r\n      <!-- Article Skeleton End-->\r\n\r\n      <!-- Article List-->\r\n      <transition name=\"fade-cross\">\r\n        <c-row class=\"article\" v-show=\"isShowArticleList\" :style=\"articleStyle\" @scroll=\"articleScroll\" ref=\"article\">\r\n          <c-col :options=\"colOptions\" v-for=\"(article, index) in articleList\" :key=\"index\">\r\n            <c-card :options=\"cardOptions\" :class=\"[{'open':article.open}]\">\r\n              <h3 slot=\"header\" class=\"header\" :style=\"{background:`url(${article.imgUrl}) center center /cover no-repeat`}\">\r\n                {{article.title}}\r\n              </h3>\r\n              <div class=\"body\">\r\n                {{article.desc}}\r\n                <div class=\"read-more-wrapper\">\r\n                  <c-button :options=\"{class:{\r\n                  primary:true,\r\n                  elevation:true\r\n                }}\" @click=\"showDetail(article, index)\">Read</c-button>\r\n                </div>\r\n              </div>\r\n              <div slot=\"footer\">\r\n                <!-- {{(article.updated_at)}} -->\r\n                更新于： {{article.updated_at|articleUpdatedAt}}\r\n              </div>\r\n            </c-card>\r\n          </c-col>\r\n          <c-col :options=\"colOptions\" class=\"pullup-wrapper\">\r\n            <c-button :options=\"{class:{\r\n                              primary:true,\r\n                              elevation:true,\r\n                              block:true\r\n                }}\" @click=\"getMoreArticle\" :disabled=\"noMore\" :class=\"[{'refresh':isPullUpTrigger}]\">\r\n              {{pullUpTips}}\r\n            </c-button>\r\n          </c-col>\r\n        </c-row>\r\n      </transition>\r\n      <!-- Article List End-->\r\n\r\n      <!-- Article Detail -->\r\n      <transition name=\"detail-slide\">\r\n        <c-row class=\"detail\" :style=\"detailStyle\" v-show=\"isShowDetail\" @scroll=\"detailScroll\" ref=\"detail\">\r\n          <c-col :options=\" { class: { md: { colspan: 8, offset: 2 } } }\">\r\n            <c-card>\r\n              <div class=\"detail-content\" v-html=\"detailArticle.content\"></div>\r\n            </c-card>\r\n          </c-col>\r\n        </c-row>\r\n      </transition>\r\n      <!-- Article Detail End-->\r\n\r\n    </c-container>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport dayjs from \"dayjs\";\r\nlet count = 0;\r\n\r\n// let TIPS_PULLDOWN_BEFORE = \"继续下拉以刷新\";\r\nlet TIPS_PULLUP_BEFORE = \"点击以加载更多内容\";\r\n// let TIPS_PULLDOWN_TRIGGER = \"正在刷新...\";\r\nlet TIPS_PULLUP_TRIGGER = \"正在加载...\";\r\nlet TIPS_PULLUP_NOMORE = \"没有更多数据了\";\r\n\r\nexport default {\r\n  name: \"Article\",\r\n  created() {\r\n    if (this.articleList.length < 1) {\r\n      console.time(\"getArticleList\");\r\n      this.getArticleList({\r\n        url: this.hostName,\r\n        sort: { updated_at: -1 }\r\n      });\r\n      console.timeEnd(\"getArticleList\");\r\n    }\r\n  },\r\n  mounted() {\r\n    console.log(\"Article mounted\");\r\n    setTimeout(() => {\r\n      // window.article = this.$refs.article.$el;\r\n      this.$emit(\"mounted\", this.$el);\r\n    }, 30);\r\n  },\r\n  beforeRouteEnter: (to, from, next) => {\r\n    console.warn(\"beforeRouteEnter Article\");\r\n    // 在渲染该组件的对应路由被 confirm 前调用\r\n    // 不！能！获取组件实例 `this`\r\n    // 因为当守卫执行前，组件实例还没被创建\r\n\r\n    let { query, params } = to;\r\n    next(vm => {\r\n      vm.setArticleStyle(vm.movingDirectionY);\r\n      let top = vm.articleScrollY;\r\n      setTimeout(() => {\r\n        vm.$refs.article.$el.scrollTo({ top, behavior: \"smooth\" });\r\n      }, 30);\r\n      if (query.id && params.article && params.article.id === query.id) {\r\n        next();\r\n      } else {\r\n        this;\r\n        vm.$router.push({\r\n          name: \"home.article\"\r\n        });\r\n      }\r\n    });\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    console.warn(\"beforeRouteUpdate Article\");\r\n    next();\r\n    // 在当前路由改变，但是该组件被复用时调用\r\n    // 举例来说，对于一个带有动态参数的路径 /foo/:id，在 /foo/1 和 /foo/2 之间跳转的时候，\r\n    // 由于会渲染同样的 Foo 组件，因此组件实例会被复用。而这个钩子就会在这个情况下被调用。\r\n    // 可以访问组件实例 `this`\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    console.warn(\"beforeRouteLeave Article\");\r\n    next();\r\n    // 导航离开该组件的对应路由时调用\r\n    // 可以访问组件实例 `this`\r\n  },\r\n  data() {\r\n    return {\r\n      detailArticle: {},\r\n      isPullUpTrigger: false,\r\n      msg: \"\",\r\n      colOptions: { class: { md: { colspan: 4 } } },\r\n      cardOptions: { class: { radius: true } },\r\n      articleStyle: {\r\n        \"padding-top\": 0,\r\n        \"padding-bottom\": 0\r\n      },\r\n      isShowDetail: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"hostName\", \"appHeight\", \"appWidth\"]),\r\n    ...mapGetters(\"home\", [\r\n      \"homeHeight\",\r\n      \"toolHeight\",\r\n      \"navHeight\",\r\n      \"isInitCompleted\",\r\n      \"currentShow\"\r\n    ]),\r\n    ...mapGetters(\"article\", [\r\n      \"articleList\",\r\n      \"noMore\",\r\n      \"articleScrollY\",\r\n      \"articleScrollYMax\",\r\n      \"movingDirectionY\"\r\n    ]),\r\n    pullUpTips() {\r\n      return this.noMore\r\n        ? TIPS_PULLUP_NOMORE\r\n        : this.isPullUpTrigger ? TIPS_PULLUP_TRIGGER : TIPS_PULLUP_BEFORE;\r\n    },\r\n    isShowArticleList() {\r\n      return this.articleList && this.articleList.length > 0;\r\n    },\r\n    detailStyle() {\r\n      return {\r\n        height: `${this.appHeight}px`,\r\n        // width: `${this.appWidth}px`,\r\n        \"margin-top\": `${this.toolHeight}px`,\r\n        \"padding-bottom\": `${this.toolHeight}px`\r\n      };\r\n    }\r\n  },\r\n  filters: {\r\n    articleUpdatedAt(updated) {\r\n      return dayjs(updated).format(\"YYYY年MM月DD日\");\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(\"article\", [\r\n      \"getArticleList\",\r\n      \"setMovingDirectionY\",\r\n      \"setArticleScroll\"\r\n    ]),\r\n    ...mapActions(\"home\", [\r\n      \"setCurrentShow\",\r\n      \"setShowToolBar\",\r\n      \"setShowNavBar\"\r\n    ]),\r\n    detailScroll(event) {\r\n      // console.log(this.$refs.detail);\r\n    },\r\n    setArticleStyle(movingDirectionY) {\r\n      this.articleStyle =\r\n        movingDirectionY === 1\r\n          ? {\r\n              height: `${this.appHeight}px`,\r\n              // width: `${this.appWidth}px`,\r\n              \"padding-top\": `1rem`,\r\n              \"padding-bottom\": `1rem`\r\n            }\r\n          : {\r\n              height: `${this.appHeight}px`,\r\n              // width: `${this.appWidth}px`,\r\n              \"margin-top\": `${this.toolHeight}px`,\r\n              \"margin-bottom\": `${this.navHeight}px`\r\n            };\r\n    },\r\n    getMoreArticle(event) {\r\n      this.isPullUpTrigger = true;\r\n      this.getArticleList({\r\n        url: this.hostName,\r\n        sort: { updated_at: -1 }\r\n      });\r\n    },\r\n    articleScroll(event) {\r\n      console.log(\"articleScroll\");\r\n      let { scrollHeight, scrollLeft, scrollTop, scrollWidth } = event.target;\r\n      this.setArticleScroll({\r\n        scrollHeight,\r\n        scrollLeft,\r\n        scrollTop,\r\n        scrollWidth\r\n      });\r\n    },\r\n    showDetail(article, index) {\r\n      this.detailArticle = article;\r\n      // 只是一个专场动画\r\n      article.open = true;\r\n      this.$set(this.articleList, index, article);\r\n      setTimeout(() => {\r\n        article.open = false;\r\n        this.$set(this.articleList, index, article);\r\n      }, 1000 * 2);\r\n\r\n      setTimeout(() => {\r\n        this.$router.push({\r\n          name: \"home.article.detail\",\r\n          query: {\r\n            id: article.id\r\n          },\r\n          params: {\r\n            article\r\n          }\r\n        });\r\n      }, 30);\r\n      // this.setCurrentShow(\"home.article.detail\");\r\n    }\r\n  },\r\n  watch: {\r\n    detailArticle(newV, oldV) {\r\n      // 如果是新的，scrollTop=0\r\n      setTimeout(() => {\r\n        this.$refs.detail.$el.scrollTo({\r\n          top: 0,\r\n          behavior: \"smooth\"\r\n        });\r\n      }, 30);\r\n    },\r\n    currentShow(currentShow, oldV) {\r\n      console.log(currentShow, oldV);\r\n      this.isShowDetail = currentShow === \"home.article.detail\";\r\n      if (this.isShowDetail) {\r\n        this.setShowToolBar(true);\r\n        this.setShowNavBar(false);\r\n      }\r\n    },\r\n    articleList(newV, oldV) {\r\n      this.isPullUpTrigger = false;\r\n      // console.log(\"模拟数据\");\r\n      // this.detailArticle = newV.length > 0 ? newV[0] : {};\r\n    },\r\n    articleScrollY(newV, oldV) {\r\n      this.setMovingDirectionY(newV - oldV > 0 ? 1 : -1);\r\n    },\r\n    movingDirectionY(newV, oldV) {\r\n      console.log(\"count\", count++, newV);\r\n      // 1是向下滑动的意思\r\n      this.setArticleStyle(newV);\r\n    }\r\n  },\r\n  components: {\r\n    \"c-container\": () =>\r\n      import(/* webpackChunkName: \"c-container\" */ \"@cps/Container\"),\r\n    \"c-row\": () => import(/* webpackChunkName: \"c-row\" */ \"@cps/Row\"),\r\n    \"c-col\": () => import(/* webpackChunkName: \"c-col\" */ \"@cps/Col\"),\r\n    \"c-button\": () => import(/* webpackChunkName: \"c-button\" */ \"@cps/Button\"),\r\n    \"c-card\": () => import(/* webpackChunkName: \"c-card\" */ \"@cps/Card\")\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n@import \"../../../components/stylesheets/vm\";\r\n.article-wrapper,\r\n.skeleton,\r\n.detail {\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n.article-wrapper {\r\n  .hide {\r\n    display: none;\r\n  }\r\n  .skeleton {\r\n    .card {\r\n      background-color: white;\r\n      div {\r\n        margin-bottom: 1rem;\r\n        border-radius: 0.5rem;\r\n        &:last-child {\r\n          margin-bottom: 0;\r\n        }\r\n      }\r\n\r\n      .header,\r\n      .body,\r\n      .footer {\r\n        background-color: $skeleton-nomarl;\r\n      }\r\n\r\n      .header {\r\n        height: 3rem;\r\n      }\r\n      .body {\r\n        height: 8rem;\r\n      }\r\n      .footer {\r\n        width: 80%;\r\n        height: 4rem;\r\n      }\r\n    }\r\n  }\r\n\r\n  .article {\r\n    position: relative;\r\n    height: 100%;\r\n    overflow-y: scroll;\r\n    overflow-x: hidden;\r\n    // transition: all 0.3s;\r\n    background-color: white;\r\n\r\n    .card {\r\n      background-color: white;\r\n      &.open {\r\n        animation: zoomOutDown 1s;\r\n      }\r\n      .header {\r\n        margin-top: 1rem;\r\n        border-radius: 1rem 1rem 0 0;\r\n        text-align: center;\r\n        color: white;\r\n        font-weight: 700;\r\n        text-shadow: 0.1rem 0.1rem 0.1rem black;\r\n        line-height: 5rem;\r\n      }\r\n\r\n      .body {\r\n        .read-more-wrapper {\r\n          text-align: right;\r\n        }\r\n      }\r\n    }\r\n    .pullup-wrapper {\r\n      margin-top: 1rem;\r\n      text-align: center;\r\n      transition: all 2s cubic-bezier(0.215, 0.61, 0.355, 1);\r\n\r\n      .refresh {\r\n        animation: bounceIn 2s infinite alternate;\r\n      }\r\n    }\r\n  }\r\n\r\n  .detail {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    margin-left: 0; //因为absolute的关系,修复container padding 15 row margin -15的问题\r\n    z-index: 1;\r\n    overflow-y: scroll;\r\n    background-color: white;\r\n\r\n    .detail-content {\r\n      h1,\r\n      h2,\r\n      h3,\r\n      h4 {\r\n        text-align: center;\r\n      }\r\n      h2 {\r\n        font-size: 2rem;\r\n        ~ p {\r\n          @include elevation2();\r\n          padding: 1rem;\r\n          border-radius: 1rem;\r\n          text-indent: 2rem;\r\n          a[href^=\"htt\"] {\r\n            display: inline-block;\r\n            width: 100%;\r\n            white-space: nowrap;\r\n            text-overflow: ellipsis;\r\n            overflow: hidden;\r\n          }\r\n          img {\r\n            display: inline-block;\r\n            margin-left: -2rem; //修复text-indent\r\n            border-radius: 1rem;\r\n            width: 100%;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Article.vue?vue&type=template&id=06bc95f8&\"\nimport script from \"./Article.vue?vue&type=script&lang=js&\"\nexport * from \"./Article.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Article.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Article.vue\"\nexport default component.exports"],"sourceRoot":""}