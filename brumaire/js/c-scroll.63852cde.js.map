{"version":3,"sources":["webpack:///./src/components/stylesheets/Scroll.vue?0796","webpack:///src/components/stylesheets/Scroll.vue","webpack:///./src/components/stylesheets/Scroll.vue?9a7a","webpack:///./src/components/stylesheets/Scroll.vue","webpack:///./src/components/stylesheets/Scroll.vue?7fa2"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","_t","staticRenderFns","propsOptions","THROTTLE_TRUE","THROTTLE_FALSE","THROTTLE","Scrollvue_type_script_lang_js_","name","mounted","_this","vm","$nextTick","then","$emit","$el","catch","error","console","log","setTimeout","_initScroll","components","props","probeType","type","Number","default","click","Boolean","scrollX","listenScroll","data","Array","pullup","pulldown","beforeScroll","refreshDelay","methods","_this2","$refs","wrapper","scroll","bscroll_esm","on","pos","y","maxScrollY","disable","enable","refresh","scrollTo","apply","arguments","scrollToElement","watch","_this3","computed","containerClass","options","class","stylesheets_Scrollvue_type_script_lang_js_","component","Object","componentNormalizer","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Scroll_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"0IAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,IAAA,YAAcN,EAAAO,GAAA,gBACxHC,6BCOAC,GACAC,cAAA,EACAC,eAAA,EACAC,SAAA,GAaAC,GACAC,KAAA,WACAC,QAFA,WAEA,IAAAC,EAAAf,KAEAgB,EAAAhB,KACAA,KAAAiB,YACAC,KAAA,WACAF,EAAAG,MAAA,UAAAH,EAAAI,OAEAC,MAAA,SAAAC,GACAC,QAAAD,WAEAC,QAAAC,IAAA,mBACAC,WAAA,WACAV,EAAAW,eACA,MAEAC,cACAC,OACAC,WACAC,KAAAC,OACAC,QAAAxB,EAAAC,eAKAwB,OACAH,KAAAI,QACAF,SAAA,GAKAG,SACAL,KAAAI,QACAF,SAAA,GAKAI,cACAN,KAAAI,QACAF,SAAA,GAKAK,MACAP,KAAAQ,MACAN,QAAA,MAKAO,QACAT,KAAAI,QACAF,SAAA,GAKAQ,UACAV,KAAAI,QACAF,SAAA,GAKAS,cACAX,KAAAI,QACAF,SAAA,GAKAU,cACAZ,KAAAC,OACAC,QAAA,KAGAK,KAhFA,WAiFA,UAEAM,SACAjB,YADA,WACA,IAAAkB,EAAA5C,KACAA,KAAA6C,MAAAC,UAIA9C,KAAA+C,OAAA,IAAAC,EAAA,KAAAhD,KAAA6C,MAAAC,SACAjB,UAAA7B,KAAA6B,UACAI,MAAAjC,KAAAiC,MACAE,QAAAnC,KAAAmC,UAIAnC,KAAAoC,cACApC,KAAA+C,OAAAE,GAAA,kBAAAC,GACAN,EAAAzB,MAAA,SAAA+B,KAKAlD,KAAAuC,QACAvC,KAAA+C,OAAAE,GAAA,uBAEAL,EAAAG,OAAAI,GAAAP,EAAAG,OAAAK,WAAA,IACAR,EAAAzB,MAAA,iBAMAnB,KAAAwC,UACAxC,KAAA+C,OAAAE,GAAA,oBAAAC,GAEAA,EAAAC,EAAA,IACAP,EAAAzB,MAAA,cAMAnB,KAAAyC,cACAzC,KAAA+C,OAAAE,GAAA,+BACAL,EAAAzB,MAAA,oBAIAkC,QA9CA,WAgDArD,KAAA+C,QAAA/C,KAAA+C,OAAAM,WAEAC,OAlDA,WAoDAtD,KAAA+C,QAAA/C,KAAA+C,OAAAO,UAEAC,QAtDA,WAwDAvD,KAAA+C,QAAA/C,KAAA+C,OAAAQ,WAEAC,SA1DA,WA4DAxD,KAAA+C,QAAA/C,KAAA+C,OAAAS,SAAAC,MAAAzD,KAAA+C,OAAAW,YAEAC,gBA9DA,WAgEA3D,KAAA+C,QAAA/C,KAAA+C,OAAAY,gBAAAF,MAAAzD,KAAA+C,OAAAW,aAGAE,OAEAvB,KAFA,WAEA,IAAAwB,EAAA7D,KACAyB,WAAA,WACAoC,EAAAN,WACAvD,KAAA0C,gBAGAoB,UACAC,eADA,WAEA,OAAA/D,KAAAgE,SAAAhE,KAAAgE,QAAAC,MACA,kBAEA,eC3LsRC,EAAA,0BCQtRC,EAAAC,OAAAC,EAAA,KAAAD,CACAF,EACApE,EACAS,GACA,EACA,KACA,KACA,MAIA4D,EAAAH,QAAAM,OAAA,aACAC,EAAA,WAAAJ,sECpB+gBK,EAAA","file":"js/c-scroll.63852cde.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"wrapper\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div ref=\"wrapper\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n<script>\r\nimport BScroll from \"better-scroll\";\r\n\r\nlet propsOptions = {\r\n  THROTTLE_TRUE: 1, //滚动的时候会派发scroll事件，会截流。\r\n  THROTTLE_FALSE: 2, //滚动的时候实时派发scroll事件，不会截流。\r\n  THROTTLE: 3 // 除了实时派发scroll事件，在swipe的情况下仍然能实时派发scroll事件\r\n};\r\n\r\n/* \r\n*<sapmle>\r\n    <c-col :options=\"colOptions\" v-on:mounted=\"colMounted\">\r\n      <c-scroll class=\" wrapper this is scroll\" :data=\"data\" :pulldown=\"pulldown\" @pulldown=\"loadData\">\r\n        <ul>\r\n          <li v-for=\"(item, index) in 100\" :key=\"index\">scroll</li>\r\n        </ul>\r\n      </c-scroll>\r\n    </c-col>\r\n</sample> */\r\nexport default {\r\n  name: \"c-scroll\",\r\n  mounted() {\r\n    //某些需要在mounted之后完成的初始化\r\n    let vm = this;\r\n    this.$nextTick()\r\n      .then(() => {\r\n        vm.$emit(\"mounted\", vm.$el);\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n      });\r\n    console.log(\"ScrollY mounted\");\r\n    setTimeout(() => {\r\n      this._initScroll();\r\n    }, 1000 * 2);\r\n  },\r\n  components: {},\r\n  props: {\r\n    probeType: {\r\n      type: Number,\r\n      default: propsOptions.THROTTLE_TRUE\r\n    },\r\n    /**\r\n     * 点击列表是否派发click事件\r\n     */\r\n    click: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    /**\r\n     * 是否开启横向滚动\r\n     */\r\n    scrollX: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    /**\r\n     * 是否派发滚动事件\r\n     */\r\n    listenScroll: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    /**\r\n     * 列表的数据\r\n     */\r\n    data: {\r\n      type: Array,\r\n      default: null\r\n    },\r\n    /**\r\n     * 是否派发滚动到底部的事件，用于上拉加载\r\n     */\r\n    pullup: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    /**\r\n     * 是否派发顶部下拉的事件，用于下拉刷新\r\n     */\r\n    pulldown: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    /**\r\n     * 是否派发列表滚动开始的事件\r\n     */\r\n    beforeScroll: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    /**\r\n     * 当数据更新后，刷新scroll的延时。\r\n     */\r\n    refreshDelay: {\r\n      type: Number,\r\n      default: 20\r\n    }\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  methods: {\r\n    _initScroll() {\r\n      if (!this.$refs.wrapper) {\r\n        return;\r\n      }\r\n      // better-scroll的初始化\r\n      this.scroll = new BScroll(this.$refs.wrapper, {\r\n        probeType: this.probeType,\r\n        click: this.click,\r\n        scrollX: this.scrollX\r\n      });\r\n\r\n      // 是否派发滚动事件\r\n      if (this.listenScroll) {\r\n        this.scroll.on(\"scroll\", pos => {\r\n          this.$emit(\"scroll\", pos);\r\n        });\r\n      }\r\n\r\n      // 是否派发滚动到底部事件，用于上拉加载\r\n      if (this.pullup) {\r\n        this.scroll.on(\"scrollEnd\", () => {\r\n          // 滚动到底部\r\n          if (this.scroll.y <= this.scroll.maxScrollY + 50) {\r\n            this.$emit(\"scrollToEnd\");\r\n          }\r\n        });\r\n      }\r\n\r\n      // 是否派发顶部下拉事件，用于下拉刷新\r\n      if (this.pulldown) {\r\n        this.scroll.on(\"touchend\", pos => {\r\n          // 下拉动作\r\n          if (pos.y > 50) {\r\n            this.$emit(\"pulldown\");\r\n          }\r\n        });\r\n      }\r\n\r\n      // 是否派发列表滚动开始的事件\r\n      if (this.beforeScroll) {\r\n        this.scroll.on(\"beforeScrollStart\", () => {\r\n          this.$emit(\"beforeScroll\");\r\n        });\r\n      }\r\n    },\r\n    disable() {\r\n      // 代理better-scroll的disable方法\r\n      this.scroll && this.scroll.disable();\r\n    },\r\n    enable() {\r\n      // 代理better-scroll的enable方法\r\n      this.scroll && this.scroll.enable();\r\n    },\r\n    refresh() {\r\n      // 代理better-scroll的refresh方法\r\n      this.scroll && this.scroll.refresh();\r\n    },\r\n    scrollTo() {\r\n      // 代理better-scroll的scrollTo方法\r\n      this.scroll && this.scroll.scrollTo.apply(this.scroll, arguments);\r\n    },\r\n    scrollToElement() {\r\n      // 代理better-scroll的scrollToElement方法\r\n      this.scroll && this.scroll.scrollToElement.apply(this.scroll, arguments);\r\n    }\r\n  },\r\n  watch: {\r\n    // 监听数据的变化，延时refreshDelay时间后调用refresh方法重新计算，保证滚动效果正常\r\n    data() {\r\n      setTimeout(() => {\r\n        this.refresh();\r\n      }, this.refreshDelay);\r\n    }\r\n  },\r\n  computed: {\r\n    containerClass() {\r\n      if (this.options && this.options.class) {\r\n        return \"container-fluid\";\r\n      }\r\n      return \"container\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"vm\";\r\n\r\n// Container widths\r\n//\r\n// Set the container width, and override it for fixed navbars in media queries.\r\n.container {\r\n  @include container-fixed;\r\n\r\n  @media (min-width: $screen-sm-min) {\r\n    width: $container-sm;\r\n  }\r\n  @media (min-width: $screen-md-min) {\r\n    width: $container-md;\r\n  }\r\n  @media (min-width: $screen-lg-min) {\r\n    width: $container-lg;\r\n  }\r\n}\r\n\r\n// Fluid container\r\n//\r\n// Utilizes the mixin meant for fixed width containers, but without any defined\r\n// width for fluid, full width layouts.\r\n\r\n.container-fluid {\r\n  @include container-fixed;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scroll.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scroll.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Scroll.vue?vue&type=template&id=163da318&\"\nimport script from \"./Scroll.vue?vue&type=script&lang=js&\"\nexport * from \"./Scroll.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Scroll.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Scroll.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scroll.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scroll.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}