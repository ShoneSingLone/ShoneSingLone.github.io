{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./src/components/stylesheets/Bubble.vue?842b","webpack:///src/components/stylesheets/Bubble.vue","webpack:///./src/components/stylesheets/Bubble.vue?bf1c","webpack:///./src/components/stylesheets/Bubble.vue","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./src/components/stylesheets/Bubble.vue?26eb"],"names":["toObject","__webpack_require__","toAbsoluteIndex","toLength","module","exports","value","O","this","length","aLen","arguments","index","undefined","end","endPos","render","_vm","_h","$createElement","_c","_self","ref","style","attrs","width","height","staticRenderFns","Bubblevue_type_script_lang_js_","props","y","type","Number","default","data","computed","distance","Math","max","min","ratio","maxDistance","concat","created","window","devicePixelRatio","initRadius","minHeadRadius","minTailRadius","initArrowRadius","minArrowRadius","arrowWidth","initCenterX","initCenterY","headCenter","x","mounted","_draw","methods","bubble","$refs","ctx","getContext","clearRect","_drawBubble","_drawArrow","save","beginPath","rate","headRadius","arc","PI","tailRadius","tailCenter","tailPointL","controlPointL","quadraticCurveTo","headPointR","controlPointR","fillStyle","fill","strokeStyle","stroke","restore","arrowRadius","lineTo","watch","stylesheets_Bubblevue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","$export","P","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Bubble_vue_vue_type_style_index_0_id_4652e39a_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/c-bubble.7b4f5c76.js","sourcesContent":["// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{ref:\"bubble\",style:(_vm.style),attrs:{\"width\":_vm.width,\"height\":_vm.height}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <canvas ref=\"bubble\" :width=\"width\" :height=\"height\" :style=\"style\"></canvas>\n</template>\n\n<script type=\"text/ecmascript-6\">\nexport default {\n  props: {\n    y: {\n      type: Number,\n      default: 0\n    }\n  },\n  data() {\n    return {\n      width: 50,\n      height: 80\n    };\n  },\n  computed: {\n    distance() {\n      return Math.max(0, Math.min(this.y * this.ratio, this.maxDistance));\n    },\n    style() {\n      return `width:${this.width / this.ratio}px;height:${this.height /\n        this.ratio}px`;\n    }\n  },\n  created() {\n    this.ratio = window.devicePixelRatio;\n    this.width *= this.ratio;\n    this.height *= this.ratio;\n    this.initRadius = 18 * this.ratio;\n    this.minHeadRadius = 12 * this.ratio;\n    this.minTailRadius = 5 * this.ratio;\n    this.initArrowRadius = 10 * this.ratio;\n    this.minArrowRadius = 6 * this.ratio;\n    this.arrowWidth = 3 * this.ratio;\n    this.maxDistance = 40 * this.ratio;\n    this.initCenterX = 25 * this.ratio;\n    this.initCenterY = 25 * this.ratio;\n    this.headCenter = {\n      x: this.initCenterX,\n      y: this.initCenterY\n    };\n  },\n  mounted() {\n    this._draw();\n  },\n  methods: {\n    _draw() {\n      const bubble = this.$refs.bubble;\n      let ctx = bubble.getContext(\"2d\");\n      ctx.clearRect(0, 0, bubble.width, bubble.height);\n\n      this._drawBubble(ctx);\n\n      this._drawArrow(ctx);\n    },\n    _drawBubble(ctx) {\n      ctx.save();\n      ctx.beginPath();\n\n      const rate = this.distance / this.maxDistance;\n      const headRadius =\n        this.initRadius - (this.initRadius - this.minHeadRadius) * rate;\n\n      this.headCenter.y =\n        this.initCenterY - (this.initRadius - this.minHeadRadius) * rate;\n\n      // 画上半弧线\n      ctx.arc(\n        this.headCenter.x,\n        this.headCenter.y,\n        headRadius,\n        0,\n        Math.PI,\n        true\n      );\n\n      // 画左侧贝塞尔\n      const tailRadius =\n        this.initRadius - (this.initRadius - this.minTailRadius) * rate;\n      const tailCenter = {\n        x: this.headCenter.x,\n        y: this.headCenter.y + this.distance\n      };\n\n      const tailPointL = {\n        x: tailCenter.x - tailRadius,\n        y: tailCenter.y\n      };\n      const controlPointL = {\n        x: tailPointL.x,\n        y: tailPointL.y - this.distance / 2\n      };\n\n      ctx.quadraticCurveTo(\n        controlPointL.x,\n        controlPointL.y,\n        tailPointL.x,\n        tailPointL.y\n      );\n\n      // 画下半弧线\n      ctx.arc(tailCenter.x, tailCenter.y, tailRadius, Math.PI, 0, true);\n\n      // 画右侧贝塞尔\n      const headPointR = {\n        x: this.headCenter.x + headRadius,\n        y: this.headCenter.y\n      };\n      const controlPointR = {\n        x: tailCenter.x + tailRadius,\n        y: headPointR.y + this.distance / 2\n      };\n      ctx.quadraticCurveTo(\n        controlPointR.x,\n        controlPointR.y,\n        headPointR.x,\n        headPointR.y\n      );\n\n      ctx.fillStyle = \"rgb(170,170,170)\";\n      ctx.fill();\n      ctx.strokeStyle = \"rgb(153,153,153)\";\n      ctx.stroke();\n      ctx.restore();\n    },\n    _drawArrow(ctx) {\n      ctx.save();\n      ctx.beginPath();\n\n      const rate = this.distance / this.maxDistance;\n      const arrowRadius =\n        this.initArrowRadius -\n        (this.initArrowRadius - this.minArrowRadius) * rate;\n\n      // 画内圆\n      ctx.arc(\n        this.headCenter.x,\n        this.headCenter.y,\n        arrowRadius - (this.arrowWidth - rate),\n        -Math.PI / 2,\n        0,\n        true\n      );\n\n      // 画外圆\n      ctx.arc(\n        this.headCenter.x,\n        this.headCenter.y,\n        arrowRadius,\n        0,\n        Math.PI * 3 / 2,\n        false\n      );\n\n      ctx.lineTo(\n        this.headCenter.x,\n        this.headCenter.y - arrowRadius - this.arrowWidth / 2 + rate\n      );\n      ctx.lineTo(\n        this.headCenter.x + this.arrowWidth * 2 - rate * 2,\n        this.headCenter.y - arrowRadius + this.arrowWidth / 2\n      );\n\n      ctx.lineTo(\n        this.headCenter.x,\n        this.headCenter.y - arrowRadius + this.arrowWidth * 3 / 2 - rate\n      );\n\n      ctx.fillStyle = \"rgb(255,255,255)\";\n      ctx.fill();\n      ctx.strokeStyle = \"rgb(170,170,170)\";\n      ctx.stroke();\n      ctx.restore();\n    }\n  },\n  watch: {\n    y() {\n      this._draw();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bubble.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bubble.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Bubble.vue?vue&type=template&id=4652e39a&scoped=true&\"\nimport script from \"./Bubble.vue?vue&type=script&lang=js&\"\nexport * from \"./Bubble.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Bubble.vue?vue&type=style&index=0&id=4652e39a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4652e39a\",\n  null\n  \n)\n\ncomponent.options.__file = \"Bubble.vue\"\nexport default component.exports","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bubble.vue?vue&type=style&index=0&id=4652e39a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bubble.vue?vue&type=style&index=0&id=4652e39a&lang=scss&scoped=true&\""],"sourceRoot":""}