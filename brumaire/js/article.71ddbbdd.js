(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["article"],{"81a3":function(t,e,i){"use strict";var c=i("a865"),o=i.n(c);o.a},a865:function(t,e,i){},d0ea:function(t,e,i){"use strict";i.r(e);var c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[i("div",{staticClass:"article-wrapper"},[i("c-container",{staticClass:"article hide",style:t.containerStyle,on:{scroll:t.articleScroll}},[i("transition",{attrs:{name:"fade-cross"}},[i("c-row",{directives:[{name:"show",rawName:"v-show",value:t.articleList&&t.articleList.length>0,expression:"articleList&&articleList.length>0"}],staticClass:"article"},[t._l(t.articleList,function(e,c){return i("c-col",{key:c,attrs:{options:t.colOptions}},[i("c-card",{staticClass:"article-card",attrs:{options:t.cardOptions}},[i("h3",{class:["header",{open:e.open},{close:!e.open}],style:{background:"url("+e.imgUrl+") center center /cover no-repeat"},attrs:{slot:"header"},slot:"header"},[t._v("\n                "+t._s(e.title)+"\n              ")]),i("div",{staticClass:"body"},[t._v("\n                "+t._s(e.desc)+"\n                "),i("div",{staticClass:"read-more-wrapper"},[i("c-button",{attrs:{options:{class:{primary:!0,elevation:!0}}},on:{click:function(i){t.showDetail(e,c)}}},[t._v("Read")])],1)]),i("div",{attrs:{slot:"footer"},slot:"footer"},[t._v("\n                更新于： "+t._s(t._f("articleUpdatedAt")(e.updated_at))+"\n              ")])])],1)}),i("c-col",{staticClass:"pullup-wrapper",attrs:{options:t.colOptions}},[i("c-button",{class:[{refresh:t.isPullUpTrigger}],attrs:{options:{class:{primary:!0,elevation:!0,block:!0}},disabled:t.noMore},on:{click:t.getMoreArticle}},[t._v("\n              "+t._s(t.pullUpTips)+"\n            ")])],1)],2)],1),i("transition",{attrs:{name:"fade-cross"}},[i("c-row",{directives:[{name:"show",rawName:"v-show",value:t.articleList&&t.articleList.length<1,expression:"articleList&&articleList.length<1"}],staticClass:"skeleton"},t._l(4,function(e,c){return i("c-col",{key:c,attrs:{options:t.colOptions}},[i("c-card",{attrs:{options:t.cardOptions}},[i("div",{staticClass:"header"}),i("div",{staticClass:"body"}),i("div",{staticClass:"footer"})])],1)}))],1)],1),i("c-detail",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],attrs:{article:t.detailArticle}})],1)])},o=[],n=i("c93e"),l=(i("cadf"),i("551c"),i("097d"),i("1fba"),i("2f62")),r=i("5a0c"),s=i.n(r),a=0,u="点击以加载更多内容",d="正在加载...",h="没有更多数据了",p={name:"Article",created:function(){this.articleList.length<1&&(console.time("getArticleList"),this.getArticleList({url:this.hostName,sort:{updated_at:-1}}),console.timeEnd("getArticleList"))},mounted:function(){var t=this;console.log("Article mounted"),setTimeout(function(){t.$emit("mounted",t.$el)},30)},data:function(){return{isShowDetail:!1,detailArticle:{},isPullUpTrigger:!1,msg:"",colOptions:{class:{md:{colspan:4}}},cardOptions:{class:{radius:!0}},containerStyle:{height:"100%","padding-top":"".concat(this.toolHeight,"px"),"padding-bottom":"".concat(this.navHeight,"px")}}},computed:Object(n["a"])({},Object(l["c"])(["hostName","appHeight"]),Object(l["c"])("home",["homeHeight","toolHeight","navHeight","isInitCompleted"]),Object(l["c"])("article",["articleList","noMore","articleScrollY","articleScrollYMax","movingDirectionY"]),{pullUpTips:function(){return this.noMore?h:this.isPullUpTrigger?d:u}}),filters:{articleUpdatedAt:function(t){return s()(t).format("YYYY年MM月DD日")}},methods:Object(n["a"])({},Object(l["b"])("article",["getArticleList","setMovingDirectionY","setArticleScroll"]),{getMoreArticle:function(t){this.isPullUpTrigger=!0,this.getArticleList({url:this.hostName,sort:{updated_at:-1}})},articleScroll:function(t){var e=t.target,i=e.scrollHeight,c=e.scrollLeft,o=e.scrollTop,n=e.scrollWidth;this.setArticleScroll({scrollHeight:i,scrollLeft:c,scrollTop:o,scrollWidth:n})},showDetail:function(t,e){this.isShowDetail=!0,t.open=!t.open,this.detailArticle=t,console.log("click",t,e)}}),watch:{articleList:function(t,e){this.isPullUpTrigger=!1,console.log("模拟数据"),this.detailArticle=t.length>0?t[0]:{}},articleScrollY:function(t,e){this.setMovingDirectionY(t-e>0?1:-1)},movingDirectionY:function(t,e){console.log("count",a++),this.containerStyle=1===t?{height:"100%","padding-top":"1rem","padding-bottom":"1rem"}:{height:"100%","margin-top":"".concat(this.toolHeight,"px"),"margin-bottom":"".concat(this.navHeight,"px")}}},components:{"c-container":function(){return i.e("c-container").then(i.bind(null,"5b42"))},"c-row":function(){return i.e("c-row").then(i.bind(null,"ef38"))},"c-col":function(){return i.e("c-col").then(i.bind(null,"d15e"))},"c-button":function(){return Promise.resolve().then(i.bind(null,"eece"))},"c-scroll":function(){return i.e("c-scroll").then(i.bind(null,"5208"))},"c-card":function(){return i.e("c-card").then(i.bind(null,"cf50"))},"c-bubble":function(){return i.e("c-bubble").then(i.bind(null,"4ad7"))},"c-detail":function(){return i.e("c-bubble").then(i.bind(null,"b7ab"))}}},g=p,f=(i("81a3"),i("2877")),m=Object(f["a"])(g,c,o,!1,null,"7b7ac602",null);m.options.__file="Article.vue";e["default"]=m.exports}}]);
//# sourceMappingURL=article.71ddbbdd.js.map