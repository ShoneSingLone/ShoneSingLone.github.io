(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["c-bubble","article.detail"],{"11e9":function(t,e,i){var r=i("52a7"),n=i("4630"),a=i("6821"),s=i("6a99"),c=i("69a8"),o=i("c69a"),h=Object.getOwnPropertyDescriptor;e.f=i("9e1e")?h:function(t,e){if(t=a(t),e=s(e,!0),o)try{return h(t,e)}catch(t){}if(c(t,e))return n(!r.f.call(t,e),t[e])}},"36bd":function(t,e,i){"use strict";var r=i("4bf8"),n=i("77f1"),a=i("9def");t.exports=function(t){var e=r(this),i=a(e.length),s=arguments.length,c=n(s>1?arguments[1]:void 0,i),o=s>2?arguments[2]:void 0,h=void 0===o?i:n(o,i);while(h>c)e[c++]=t;return e}},"4ad7":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("canvas",{ref:"bubble",style:t.style,attrs:{width:t.width,height:t.height}})},n=[],a=(i("6c7b"),i("c5f6"),{props:{y:{type:Number,default:0}},data:function(){return{width:50,height:80}},computed:{distance:function(){return Math.max(0,Math.min(this.y*this.ratio,this.maxDistance))},style:function(){return"width:".concat(this.width/this.ratio,"px;height:").concat(this.height/this.ratio,"px")}},created:function(){this.ratio=window.devicePixelRatio,this.width*=this.ratio,this.height*=this.ratio,this.initRadius=18*this.ratio,this.minHeadRadius=12*this.ratio,this.minTailRadius=5*this.ratio,this.initArrowRadius=10*this.ratio,this.minArrowRadius=6*this.ratio,this.arrowWidth=3*this.ratio,this.maxDistance=40*this.ratio,this.initCenterX=25*this.ratio,this.initCenterY=25*this.ratio,this.headCenter={x:this.initCenterX,y:this.initCenterY}},mounted:function(){this._draw()},methods:{_draw:function(){var t=this.$refs.bubble,e=t.getContext("2d");e.clearRect(0,0,t.width,t.height),this._drawBubble(e),this._drawArrow(e)},_drawBubble:function(t){t.save(),t.beginPath();var e=this.distance/this.maxDistance,i=this.initRadius-(this.initRadius-this.minHeadRadius)*e;this.headCenter.y=this.initCenterY-(this.initRadius-this.minHeadRadius)*e,t.arc(this.headCenter.x,this.headCenter.y,i,0,Math.PI,!0);var r=this.initRadius-(this.initRadius-this.minTailRadius)*e,n={x:this.headCenter.x,y:this.headCenter.y+this.distance},a={x:n.x-r,y:n.y},s={x:a.x,y:a.y-this.distance/2};t.quadraticCurveTo(s.x,s.y,a.x,a.y),t.arc(n.x,n.y,r,Math.PI,0,!0);var c={x:this.headCenter.x+i,y:this.headCenter.y},o={x:n.x+r,y:c.y+this.distance/2};t.quadraticCurveTo(o.x,o.y,c.x,c.y),t.fillStyle="rgb(170,170,170)",t.fill(),t.strokeStyle="rgb(153,153,153)",t.stroke(),t.restore()},_drawArrow:function(t){t.save(),t.beginPath();var e=this.distance/this.maxDistance,i=this.initArrowRadius-(this.initArrowRadius-this.minArrowRadius)*e;t.arc(this.headCenter.x,this.headCenter.y,i-(this.arrowWidth-e),-Math.PI/2,0,!0),t.arc(this.headCenter.x,this.headCenter.y,i,0,3*Math.PI/2,!1),t.lineTo(this.headCenter.x,this.headCenter.y-i-this.arrowWidth/2+e),t.lineTo(this.headCenter.x+2*this.arrowWidth-2*e,this.headCenter.y-i+this.arrowWidth/2),t.lineTo(this.headCenter.x,this.headCenter.y-i+3*this.arrowWidth/2-e),t.fillStyle="rgb(255,255,255)",t.fill(),t.strokeStyle="rgb(170,170,170)",t.stroke(),t.restore()}},watch:{y:function(){this._draw()}}}),s=a,c=(i("7446"),i("2877")),o=Object(c["a"])(s,r,n,!1,null,"4652e39a",null);o.options.__file="Bubble.vue";e["default"]=o.exports},"4ebd":function(t,e,i){},"5dbc":function(t,e,i){var r=i("d3f4"),n=i("8b97").set;t.exports=function(t,e,i){var a,s=e.constructor;return s!==i&&"function"==typeof s&&(a=s.prototype)!==i.prototype&&r(a)&&n&&n(t,a),t}},"6c7b":function(t,e,i){var r=i("5ca1");r(r.P,"Array",{fill:i("36bd")}),i("9c6c")("fill")},7446:function(t,e,i){"use strict";var r=i("8963"),n=i.n(r);n.a},8963:function(t,e,i){},"8b97":function(t,e,i){var r=i("d3f4"),n=i("cb7c"),a=function(t,e){if(n(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=i("9b43")(Function.call,i("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return a(t,i),e?t.__proto__=i:r(t,i),t}}({},!1):void 0),check:a}},9093:function(t,e,i){var r=i("ce10"),n=i("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},aa77:function(t,e,i){var r=i("5ca1"),n=i("be13"),a=i("79e5"),s=i("fdef"),c="["+s+"]",o="​",h=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),d=function(t,e,i){var n={},c=a(function(){return!!s[t]()||o[t]()!=o}),h=n[t]=c?e(l):s[t];i&&(n[i]=h),r(r.P+r.F*c,"String",n)},l=d.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(h,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},b7ab:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[i("c-container",{staticClass:"detail",style:t.detailStyle},[i("c-row",[i("c-col",{attrs:{options:t.colOptions}},[i("div",{staticClass:"content",domProps:{innerHTML:t._s(t.article.content)}})])],1)],1)],1)},n=[],a=(i("96cf"),i("3040")),s=i("c93e"),c=(i("cadf"),i("551c"),i("097d"),i("bc3a")),o=i.n(c),h=(i("1fba"),i("2f62")),u=(i("5a0c"),{"c-container":function(){return i.e("c-container").then(i.bind(null,"5b42"))},"c-row":function(){return i.e("c-row").then(i.bind(null,"ef38"))},"c-col":function(){return i.e("c-col").then(i.bind(null,"d15e"))},"c-button":function(){return Promise.resolve().then(i.bind(null,"eece"))},"c-card":function(){return i.e("c-card").then(i.bind(null,"cf50"))}}),d={name:"detail",created:function(){},mounted:function(){this.$route.query.detail=this.article.id,console.log("Detail mounted",this.$route)},asdfasdfasdf:function(t,e,i){i(function(e){t.params.article?e.article=t.params.article:t.query.id&&(e.article=e.getArticleById(t.query.id));var i=!(e.article&&e.article.id===t.query.id);i&&e.$router.push({name:"error",query:{msg:"不是没有提供ID，就是没有找到对应文章，反正就是不行"},params:{redirect:{name:"home"}}})})},props:{article:Object},data:function(){return{colOptions:{class:{md:{colspan:4}}},cardOptions:{class:{radius:!0}}}},computed:Object(s["a"])({},Object(h["c"])(["hostName","appHeight","appWidth"]),{detailStyle:function(){return{height:"".concat(this.appHeight,"px"),width:"".concat(this.appWidth,"px")}}}),methods:Object(s["a"])({},Object(h["b"])("article",["getDetail"]),{getArticleById:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e){var i,r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o()({method:"post",url:this.hostName,data:{endpoint:"article",action:"getArticleById",id:e}});case 3:if(i=t.sent,r=i.data,n=i.status,200!==n||!r.success){t.next=8;break}return t.abrupt("return",r.article);case 8:throw new Error("找不到ID相匹配的article");case 11:return t.prev=11,t.t0=t["catch"](0),console.log(t.t0),t.abrupt("return",!1);case 15:case"end":return t.stop()}},t,this,[[0,11]])}));return function(e){return t.apply(this,arguments)}}()}),watch:{},components:u},l=d,f=(i("f570"),i("2877")),p=Object(f["a"])(l,r,n,!1,null,null,null);p.options.__file="Detail.vue";e["default"]=p.exports},c5f6:function(t,e,i){"use strict";var r=i("7726"),n=i("69a8"),a=i("2d95"),s=i("5dbc"),c=i("6a99"),o=i("79e5"),h=i("9093").f,u=i("11e9").f,d=i("86cc").f,l=i("aa77").trim,f="Number",p=r[f],b=p,y=p.prototype,w=a(i("2aeb")(y))==f,v="trim"in String.prototype,m=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():l(e,3);var i,r,n,a=e.charCodeAt(0);if(43===a||45===a){if(i=e.charCodeAt(2),88===i||120===i)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+e}for(var s,o=e.slice(2),h=0,u=o.length;h<u;h++)if(s=o.charCodeAt(h),s<48||s>n)return NaN;return parseInt(o,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof p&&(w?o(function(){y.valueOf.call(i)}):a(i)!=f)?s(new b(m(e)),i,p):m(e)};for(var x,g=i("9e1e")?h(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;g.length>_;_++)n(b,x=g[_])&&!n(p,x)&&d(p,x,u(b,x));p.prototype=y,y.constructor=p,i("2aba")(r,f,p)}},f570:function(t,e,i){"use strict";var r=i("4ebd"),n=i.n(r);n.a},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=c-bubble.ef7e03ce.js.map