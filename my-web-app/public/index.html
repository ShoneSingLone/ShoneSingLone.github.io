<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link rel="icon" href="<%= BASE_URL %>favicon.ico">
  <link rel="stylesheet" href="<%= BASE_URL %>css/font.css">
  <link rel="stylesheet" href="<%= BASE_URL %>css/style.css">
  <!-- <script src="<%= BASE_URL %>js/vueEasyLightbox.umd.min.js"></script> -->
  <title>ShoneSingLone's zone</title>
</head>

<body>

  <noscript>
    <strong>We're sorry but my-web-app doesn't work properly without JavaScript enabled. Please enable it to
      continue.</strong>
  </noscript>
  <div id="app"></div>
  <!-- built files will be auto injected -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/push.js/1.0.12/push.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"></script>
  <script>
    let _window = window;
    var socket = io.connect('http://localhost:8080');
    socket.on('pushNotification', function (data) {
      console.log(data, Push.create("Hello world!", {
        body: data.msg,
        icon: '/images/a.png',
        timeout: 4000,
        onClick: function () {
          /* TODO: 如果tab页存在不需要新开 */
          /* var popup = window.open(window.location.href, 'Popup Window');
          if ((popup !== null) && !popup.closed) {
            popup.focus();
          } */
          _window.focus();
          this.close();
        }
      }));
    });
  </script>

</body>

</html>